\doxysection{pre\+Processor.\+py}
\hypertarget{pre_processor_8py_source}{}\label{pre_processor_8py_source}\index{TracknTrace/TracknTrace/preprocessor/preProcessor.py@{TracknTrace/TracknTrace/preprocessor/preProcessor.py}}
\mbox{\hyperlink{pre_processor_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00001}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor}{00001}}\ \textcolor{comment}{\#!/usr/bin/env\ python3}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00002}00002\ \textcolor{stringliteral}{"{}"{}"{}!\ @brief\ Defines\ the\ smart\ meter\ (pre)processor.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00004}00004\ \textcolor{stringliteral}{\ \ @file\ preProcessor.py}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00006}00006\ \textcolor{stringliteral}{\ \ @brief\ Defines\ smart\ meter\ data\ preprocessor}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00007}00007\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00008}00008\ \textcolor{stringliteral}{\ \ @section\ description\_preProcessor\ Description}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00009}00009\ \textcolor{stringliteral}{\ \ Defines\ the\ base\ and\ end\ user\ class\ for\ all\ fitting\ purposes,\ model\ and\ data\ agnostic}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ -\/\ multifitter}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00011}00011\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00012}00012\ \textcolor{stringliteral}{\ \ @section\ libraries\_preProcessor\ Libraries/Modules}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ -\/\ random\ standard\ library\ (https://docs.python.org/3/library/random.html)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00014}00014\ \textcolor{stringliteral}{\ \ \ \ -\/\ Access\ to\ randint\ function.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ -\/\ argparse\ input\ argument\ parsing,\ adding\ options\ to\ command-\/line\ usage}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ -\/\ pandas\ dataframe\ library}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ -\/\ sys\ for\ handling\ files\ and\ folders\ and\ detecting\ OS}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ -\/\ configparser\ for\ handling\ configuration/metadata\ files}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ -\/\ warnings\ to\ create\ own\ warnings\ and\ ommit\ others}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ -\/\ matplotlib\ plotting\ Library}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ -\/\ sklearn\ for\ linear\ regressions\ on\ usage\ patterns/energy\ signatures}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ -\/\ mufit\ multi\ fitter\ for\ model\ fitting\ library}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ -\/\ inspect\ to\ convert\ code\ to\ pretty\ output\ and\ to\ generate\ equations}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ -\/\ pytexit\ to\ generate\ latex\ equations}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ -\/\ io\ for\ file/image\ handling.\ Internal\ image\ passing\ format.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ -\/\ os\ for\ OS\ detection\ and\ folder\ handling}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ -\/\ PIL\ for\ internal\ image\ passing}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ -\/\ copy\ for\ making\ pandas\ deepcopies}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ -\/\ markdown\ for\ generating\ pretty\ output}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ -\/\ datetime\ standard\ library}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00031}00031\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ @section\ notes\_preProcessor\ Notes}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ -\/\ This\ code\ expects\ a\ .CSV\ file\ with\ smart\ meter\ data\ with\ additional\ columns\ containing\ indoor\ and\ outdoor\ temperatures.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ -\/\ A\ .metadata\ file\ is\ filled\ according\ to\ a\ standard\ format}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ -\/\ data\ will\ be\ read\ and\ manipulated\ according\ to\ instructions\ in\ the\ .metadata\ file}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00036}00036\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ @section\ todo\_preProcessor\ TODO}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ -\/\ Create\ Documentation}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ -\/\ create\ visualization\ of\ inner\ workings}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00040}00040\ \textcolor{stringliteral}{\ \ -\/\ convert\ to\ powerpoint?}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ -\/\ use\ data\ from\ chris\ to\ tune\ these\ models}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ -\/\ annemarie:\ boxplot\ tool}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00043}00043\ \textcolor{stringliteral}{\ \ -\/\ EB\ monitorting:\ what\ to\ do\ with\ data}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00044}00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ @section\ author\_sensors\ Author(s)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ -\/\ Created\ by\ Jeroen\ van\ 't\ Ende\ 26/09/2024}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00047}00047\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ Copyright\ (c)\ 2024\ Jeroen\ van\ 't\ Ende.\ \ All\ rights\ reserved.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00049}00049\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00050}00050\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00051}00051\ \textcolor{keyword}{import}\ random}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00052}00052\ \textcolor{keyword}{import}\ math}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00053}00053\ \textcolor{keyword}{import}\ argparse}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00054}00054\ \textcolor{keyword}{import}\ pandas\ \textcolor{keyword}{as}\ pd}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00055}00055\ \textcolor{keyword}{import}\ datetime\ \textcolor{keyword}{as}\ datime}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00056}00056\ \textcolor{keyword}{import}\ seaborn\ \textcolor{keyword}{as}\ sns}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00057}00057\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00058}00058\ \textcolor{keyword}{import}\ configparser}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00059}00059\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00060}00060\ \textcolor{keyword}{import}\ matplotlib.pyplot\ \textcolor{keyword}{as}\ plt}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00061}00061\ \textcolor{keyword}{from}\ sklearn.linear\_model\ \textcolor{keyword}{import}\ LinearRegression}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00062}00062\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacemufit_1_1main}{mufit.main}}\ \textcolor{keyword}{import}\ *}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00063}00063\ \textcolor{keyword}{import}\ inspect}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00064}00064\ \textcolor{keyword}{from}\ pytexit\ \textcolor{keyword}{import}\ py2tex}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00065}00065\ \textcolor{keyword}{import}\ io}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00066}00066\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00067}00067\ \textcolor{keyword}{from}\ PIL\ \textcolor{keyword}{import}\ Image,\ ImageChops}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00068}00068\ \textcolor{keyword}{import}\ copy}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00069}00069\ \textcolor{keyword}{import}\ markdown}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00070}00070\ \textcolor{keyword}{import}\ pytz}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00071}00071\ \textcolor{keyword}{from}\ TracknTrace\ \textcolor{keyword}{import}\ analysis}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00072}00072\ \textcolor{keyword}{from}\ inspect\ \textcolor{keyword}{import}\ getmembers,\ isfunction}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00073}00073\ \textcolor{keyword}{import}\ matplotlib\ \textcolor{keyword}{as}\ mpl}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00074}00074\ mpl.rcParams.update(mpl.rcParamsDefault)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00075}00075\ plt.rcParams[\textcolor{stringliteral}{'text.usetex'}]\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00077}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2f4ab7bf743142dae2e459aa18f9f1d4}{00077}}\ warnings.simplefilter(action=\textcolor{stringliteral}{'ignore'},\ category=FutureWarning)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00082}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa96c7f5f38b5c249059d45bc343fd791}{00082}}\ OS\ =\ os.environ.get(\textcolor{stringliteral}{'OS'},\textcolor{stringliteral}{''})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00083}00083\ print(\textcolor{stringliteral}{"{}Hello,\ I'm\ running\ on\ \{\}"{}}.format(OS))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00086}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad46530db38f9cae023847546641d801f}{00086}}\ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}plotly"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00088}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa8d54c4043f02951bacad7522e761ad6}{00088}}\ pd.options.mode.chained\_assignment\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00091}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a90eee7a4677ca8b1ed116364a24367f9}{00091}}\ parser\ =\ argparse.ArgumentParser()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00092}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7aead736a07eaf25623ad7bfa1f0ee2d}{00092}}\ parser.add\_argument(\textcolor{stringliteral}{"{}filename"{}},\ type=str,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00093}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81ae9faedaa69e3e28e2960a0548df8d}{00093}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help=\textcolor{stringliteral}{"{}Input\ filename"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00094}00094\ parser.add\_argument(\textcolor{stringliteral}{"{}-\/v"{}},\ \textcolor{stringliteral}{"{}-\/-\/verbose"{}},\ action=\textcolor{stringliteral}{"{}count"{}},}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00095}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_affb1327b18bf08a379d19eef89cf1ed1}{00095}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help=\textcolor{stringliteral}{"{}increase\ output\ verbosity"{}},\ default=0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00098}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8187411843a6284ffb964ef3fb9fcab3}{00098}}\ args\ =\ parser.parse\_args()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00100}00100\ \textcolor{keywordflow}{if}\ args.verbose:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00101}00101\ \ \ \ \ print(args)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00102}00102\ \ \ \ \ print(sys.path)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00103}00103\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00104}00104\ \ \ \ \ print(\textcolor{stringliteral}{"{}No\ verbosity!"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00107}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor}{00107}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor}{Eventor}}(object):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00108}00108\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Provides\ Generic\ math\ and\ statistic\ based\ event\ detection\ methods."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00109}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_afdf9661afa42b771086c9ce4abf8d1e0}{00109}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_afdf9661afa42b771086c9ce4abf8d1e0}{\_\_init\_\_}}(self,\ data,\ metadata=None,\ VERBOSE=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ The\ Eventor\ base\ class\ initializer.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00111}00111\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ data\ \ Data\ to\ fingerprint\ on\ events}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ metadata\ \ \ Metadata\ describing\ the\ data,\ is\ not\ required}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ VERBOSE\ \ verbose\ integer\ generates\ more\ output\ for\ debugging}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00115}00115\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ An\ instance\ of\ the\ eventor\ class\ initialized.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00117}00117\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00119}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a03169c2c7e2ff706233c78422b0daf3a}{00119}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a03169c2c7e2ff706233c78422b0daf3a}{VERBOSE}}\ =\ VERBOSE}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00121}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{00121}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}\ =\ data.copy()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00123}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{00123}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}\ =\ data.describe()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00125}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a770f288d3048ff6cbee9faa0969fd6b0}{00125}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a770f288d3048ff6cbee9faa0969fd6b0}{dt}}\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[\textcolor{stringliteral}{"{}dt"{}}][\textcolor{stringliteral}{"{}mean"{}}]\ \ \textcolor{comment}{\#\ use\ to\ determine\ shortwindow\ and\ longwindow\ for\ generic\ detections?}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00127}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{00127}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{columns}}\ =\ list(data.columns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00130}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a9cfcb724bbf4bae5f97bc17cf58cf522}{00130}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a9cfcb724bbf4bae5f97bc17cf58cf522}{metadata}}\ =\ metadata}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a03169c2c7e2ff706233c78422b0daf3a}{VERBOSE}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Data\ loaded,\ metadata\ and\ statistics\ instantiated.\ Ready\ for\ event\ indexing..."{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a73a67dad1d84046cc45cd1164afafb63}{slidingWindow}}(\textcolor{stringliteral}{"{}Tavg"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a6b3646948fe672006e262a9de546ea08}{runningAverages}}(\textcolor{stringliteral}{"{}Tavg"{}}).plot()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00136}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_ad1ce0dfe08dd47cac948e75d44012f9a}{00136}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_ad1ce0dfe08dd47cac948e75d44012f9a}{Resample}}(self,\ NewDelta="{}30m"{}):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Resample\ the\ loaded\ data}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00138}00138\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ NewDelta\ \ string\ which\ indicates\ to\ what\ interval\ to\ resample\ the\ data\ towards.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.resample(NewDelta).mean().interpolate()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}\ =\ data.describe()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00144}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a73a67dad1d84046cc45cd1164afafb63}{00144}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a73a67dad1d84046cc45cd1164afafb63}{slidingWindow}}(self,\ trend,\ size\ =\ 6,\ sd\ =\ 2):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Load\ a\ dictionary\ of\ variables\ and\ add\ in\ dt}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00146}00146\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00147}00147\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ trend\ \ Which\ column\ from\ the\ data\ to\ check\ for\ events}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00148}00148\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ size\ \ Size\ of\ the\ window\ over\ which\ to\ calculate\ the\ standard\ deviation}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00149}00149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ sd\ \ standard\ deviation\ exceedance\ which\ is\ considered\ an\ event}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00150}00150\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ A\ new\ dataframe\ with\ ones\ where\ events\ are\ detected}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[trend].rolling(window=size).mean().apply(\textcolor{keyword}{lambda}\ x:\ 1\ \textcolor{keywordflow}{if}\ x\ >\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}mean"{}}]\ +\ sd*self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}std"{}}]\ \textcolor{keywordflow}{else}\ (-\/1\ \textcolor{keywordflow}{if}\ x\ <\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}mean"{}}]\ -\/\ sd*self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}std"{}}]\ \textcolor{keywordflow}{else}\ 0))\textcolor{comment}{\#\ ADD\ RESampling}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00155}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a6b3646948fe672006e262a9de546ea08}{00155}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a6b3646948fe672006e262a9de546ea08}{runningAverages}}(self,\ trend,\ longWindow=42,\ shortWindow=6,\ sd=2):\ \textcolor{comment}{\#\ Also\ edge\ detection\ when\ windows\ are\ set\ properly\ (e.g.\ 4,\ 1\ or\ 2,\ 1)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Load\ a\ dictionary\ of\ variables\ and\ add\ in\ dt}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00157}00157\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00158}00158\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ trend\ \ Which\ column\ from\ the\ data\ to\ check\ for\ events}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00159}00159\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ longWindow\ \ Length\ of\ the\ long\ window\ which\ is\ the\ base\ for\ comparison}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00160}00160\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ shortWindow\ \ Length\ of\ the\ short\ window,\ if\ this\ sd\ is\ x\ times\ higher}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ sd\ \ standard\ deviation\ exceedance\ which\ is\ considered\ an\ event}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00162}00162\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00163}00163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ A\ new\ dataframe\ with\ ones\ where\ events\ are\ detected}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00164}00164\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ sw\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[trend].rolling(window=shortWindow).mean().bfill().copy()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[trend].rolling(window=longWindow).mean().bfill()):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sw[i]\ >\ x\ +\ sd*self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}std"{}}]:\ \textcolor{comment}{\#\ Rising}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sw[i]\ =\ 1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ sw[i]\ <\ x\ -\/\ sd*self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}[trend][\textcolor{stringliteral}{"{}std"{}}]:\ \textcolor{comment}{\#\ Falling}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sw[i]\ =\ -\/1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sw[i]\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ sw}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00175}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a733478597a579f9b274b842d151d636f}{00175}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a733478597a579f9b274b842d151d636f}{GenericEvents}}(self,\ shortWindow\ =\ 8,\ longWindow\ =\ 48,\ sd\ =\ 2,\ columns\ =\ None):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Detect\ events\ for\ all\ columns\ in\ self.data,\ runs\ runningAverages\ and\ slidingWindow}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00177}00177\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00178}00178\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ longWindow\ \ Length\ of\ the\ long\ window\ which\ is\ the\ base\ for\ comparison}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00179}00179\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ shortWindow\ \ Length\ of\ the\ short\ window,\ if\ this\ sd\ is\ x\ times\ higher\ it\ is\ detected\ as\ an\ event}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00180}00180\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ sd\ \ standard\ deviation\ exceedance\ which\ is\ considered\ an\ event}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00181}00181\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ columns\ \ Which\ dwstateColumns\ from\ the\ data\ to\ check\ for\ events}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00182}00182\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00183}00183\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ A\ new\ dataframe\ with\ ones\ where\ events\ are\ detected}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00184}00184\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ columns\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ columns\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{columns}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ columns:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}event"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ i:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[\textcolor{stringliteral}{"{}event\_\{\}\_sw\_\{\}\_\{\}"{}}.format(i,\ shortWindow,\ sd)]\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a73a67dad1d84046cc45cd1164afafb63}{slidingWindow}}(i,\ shortWindow,\ sd)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[\textcolor{stringliteral}{"{}event\_\{\}\_ra\_\{\}\_\{\}\_\{\}"{}}.format(i,\ longWindow,\ shortWindow,\ sd)]\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a6b3646948fe672006e262a9de546ea08}{runningAverages}}(i,\ longWindow,\ shortWindow,\ sd)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{columns}}\ =\ list(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.columns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00193}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{00193}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{eventcolumns}}\ =\ [x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{columns}}\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}event"{}}\ \textcolor{keywordflow}{in}\ x]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[\textcolor{stringliteral}{"{}normevents"{}}]\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{eventcolumns}}].abs().sum(axis=1)/float((self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{eventcolumns}}].abs().sum(axis=1)).max())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{eventcolumns}}.append(\textcolor{stringliteral}{"{}normevents"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a2236b72f560276e1c4ca3409b8b3ecb5}{columns}}\ =\ list(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.columns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a0bb9ced98effdb433e3e2fafd98932fd}{statistics}}\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.describe()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00199}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_ab7c5606b85cca4a525b7e0fca4a05ae4}{00199}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_ab7c5606b85cca4a525b7e0fca4a05ae4}{EventIndicer}}(self,\ threshold\ =\ 0.5,\ trend="{}normevents"{}):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Detect\ events\ for\ all\ columns\ in\ self.data,\ runs\ runningAverages\ and\ slidingWindow}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00201}00201\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00202}00202\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ threshold\ \ threshold\ value\ of\ the\ sum\ of\ detections\ on\ any\ moment,\ if\ bigger\ then\ this\ value\ it\ is\ counted\ as\ an\ event}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00203}00203\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ trend\ \ the\ suffix\ or\ prefix\ that\ is\ filtered\ out\ and\ summed\ for\ each\ index}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00204}00204\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00205}00205\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ A\ new\ event\ based\ on\ existing\ events}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00206}00206\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ events\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ c\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ Detection\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[trend]):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ x\ >\ threshold:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Start\ =\ i}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Detection\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ x\ <\ threshold\ \textcolor{keywordflow}{and}\ Detection:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ events.append(\{\textcolor{stringliteral}{"{}Event"{}}:\textcolor{stringliteral}{"{}\{\}\_\{\}"{}}.format(c,trend),\ \textcolor{stringliteral}{"{}start\_index"{}}:Start,\ \textcolor{stringliteral}{"{}start\_date"{}}:self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.index[Start].strftime(\textcolor{stringliteral}{"{}\%d-\/\%m-\/\%Y\ \%H:\%M:\%S"{}}),\ \textcolor{stringliteral}{"{}end\_index"{}}:i,\ \textcolor{stringliteral}{"{}end\_date"{}}:self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.index[i].strftime(\textcolor{stringliteral}{"{}\%d-\/\%m-\/\%Y\ \%H:\%M:\%S"{}})\})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Detection\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ +=\ 1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ events\ \ \textcolor{comment}{\#\ test.data.iloc[event[i]["{}start\_index"{}]:event[i]["{}end\_index"{}]]}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00219}00219\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00220}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a29c2b08808d77e48be221fcda1458658}{00220}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a29c2b08808d77e48be221fcda1458658}{EventCategorizer}}(self,\ categories):\ \textcolor{comment}{\#\ create\ a\ sum\ of\ category\ data,\ each\ event\ at\ each\ t\ added\ up\ to\ the\ 6\ category\ columns}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Summarizes\ all\ detected\ events\ to\ a\ limited\ group\ of\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00222}00222\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00223}00223\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ categories\ \ a\ list\ of\ name:category\ to\ translate\ any\ column\ to\ a\ new\ category}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00224}00224\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00225}00225\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @return\ \ A\ new\ dataframe\ with\ events\ linked\ to\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00226}00226\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00228}\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{00228}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{CatData}}\ =\ pd.DataFrame(columns\ =\ categories[0],\ index\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.index)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{CatData}}\ =\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{CatData}}.fillna(0.0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ dfv\ =\ pd.DataFrame(categories[1:],columns=categories[0],\ index=[i[0]\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ categories[1:]]).drop(\textcolor{stringliteral}{"{}Combined\_Categories"{}},axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa156f1eabfe232337d6b497f49941619}{eventcolumns}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ i\ !=\ \textcolor{stringliteral}{"{}normevents"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ i.split(\textcolor{stringliteral}{"{}\_"{}})[1]\ \textcolor{keywordflow}{in}\ dfv.index:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[[i]].T:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a03169c2c7e2ff706233c78422b0daf3a}{VERBOSE}}\ >\ 5:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\{\}\ found\ in\ data,\ doing\ something\ with:"{}}.format(i))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(i,j,\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[[i]].T[j],\ float(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[[i]].T[j])*dfv.loc[i.split(\textcolor{stringliteral}{"{}\_"{}})[1]])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#print(self.data[[i]].mul(dfv.T[i.split("{}\_"{})[1]].T))}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{CatData}}.T[j]\ +=\ abs(self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[[i]].T[j])*dfv.loc[i.split(\textcolor{stringliteral}{"{}\_"{}})[1]]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor_aa4a83a601d2bc4262ac464442e12edb7}{CatData}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00242}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2823c609f48424c07b60c16a67cb843d}{00242}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2823c609f48424c07b60c16a67cb843d}{EventCategorizerFcn}}(categories,\ data):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00243}00243\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Summarizes\ all\ detected\ events\ to\ a\ limited\ group\ of\ categories,\ does\ the\ same\ as\ internal\ class\ function\ EventCategorizer\ but\ requires\ data.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00244}00244\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00245}00245\ \textcolor{stringliteral}{\ \ \ \ @param\ categories\ \ a\ list\ of\ name:category\ to\ translate\ any\ column\ to\ a\ new\ category}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00246}00246\ \textcolor{stringliteral}{\ \ \ \ @param\ data\ \ a\ list\ of\ input\ data\ to\ categorize.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00247}00247\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00248}00248\ \textcolor{stringliteral}{\ \ \ \ @return\ \ A\ new\ dataframe\ with\ events\ linked\ to\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00249}00249\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00250}00250\ \ \ \ \ df\ =\ pd.DataFrame(columns\ =\ categories[0][1:],\ index\ =\ data.index)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00251}00251\ \ \ \ \ df\ =\ \ df.fillna(0.0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00252}00252\ \ \ \ \ print(df)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00253}00253\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ data[[\textcolor{stringliteral}{"{}Tlv"{}}]].T:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ print(i,\ data[[\textcolor{stringliteral}{"{}Tlv"{}}]].T[i],\ float(data[[\textcolor{stringliteral}{"{}Tlv"{}}]].T[i])*cats.loc[\textcolor{stringliteral}{"{}Tlv"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ df.T[i]\ +=\ float(data[[\textcolor{stringliteral}{"{}Tlv"{}}]].T[i])*cats.loc[\textcolor{stringliteral}{"{}Tlv"{}}]\textcolor{comment}{\#\ \#\#\ \$\ FINALLY\ TYHIS\ DOESD\ OETGIOGFEIHAOFAWIO\{WFG}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00256}00256\ \ \ \ \ \textcolor{keywordflow}{return}\ df}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00258}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acd235ea713df82292a00e05776adccfe}{00258}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acd235ea713df82292a00e05776adccfe}{VisualizeEvent}}(df,\ event,\ Instance,\ Extra\ =\ None,\ columns\ =\ None,\ Size\ =\ None,\ Type="{}default"{},\ Save\ =\ True):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00259}00259\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Summarizes\ all\ detected\ events\ to\ a\ limited\ group\ of\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00260}00260\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00261}00261\ \textcolor{stringliteral}{\ \ \ \ @param\ event\ finish\ this!!}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00262}00262\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00263}00263\ \textcolor{stringliteral}{\ \ \ \ @return\ \ A\ new\ dataframe\ with\ events\ linked\ to\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00264}00264\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00265}00265\ \ \ \ \ \textcolor{keywordflow}{if}\ Size\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ plt.rcParams[\textcolor{stringliteral}{'figure.figsize'}]\ =\ 8.,\ 4.}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00267}00267\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ plt.rcParams[\textcolor{stringliteral}{'figure.figsize'}]\ =\ Size[0],\ Size[1]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00269}00269\ \ \ \ \ \textcolor{keywordflow}{if}\ columns\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ columns\ =\ [\textcolor{stringliteral}{"{}Tavg"{}},\ \textcolor{stringliteral}{"{}Tamb"{}},\ \textcolor{stringliteral}{"{}dT"{}},\ \textcolor{stringliteral}{"{}Pdhw"{}},\textcolor{stringliteral}{"{}Pin"{}},\textcolor{stringliteral}{"{}UAct"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00271}00271\ \ \ \ \ \textcolor{keywordflow}{if}\ Extra\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ Extra\ =\ int(len(df.iloc[event[\textcolor{stringliteral}{"{}start\_index"{}}]-\/1:event[\textcolor{stringliteral}{"{}end\_index"{}}]+1])*1.5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00273}00273\ \ \ \ \ prows\ =\ 2}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00274}00274\ \ \ \ \ pcols\ =\ 3}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00275}00275\ \ \ \ \ \textcolor{keywordflow}{while}\ len(columns)\ >\ prows*pcols:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ prows\ +=\ 1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00277}00277\ \ \ \ \ fig,\ axs\ =\ plt.subplots(nrows=prows,\ ncols=pcols,\ layout=\textcolor{stringliteral}{'constrained'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00278}00278\ \ \ \ \ fig.suptitle(\textcolor{stringliteral}{"{}Event\ \{\}\ \ From:\ \{\}\ To:\ \{\}\ -\/\ What\ is\ going\ on\ here?"{}}.format(event[\textcolor{stringliteral}{"{}Event"{}}],\ event[\textcolor{stringliteral}{"{}start\_date"{}}],\ event[\textcolor{stringliteral}{"{}end\_date"{}}]),\ fontsize=14)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00279}00279\ \ \ \ \ c\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00280}00280\ \ \ \ \ \textcolor{keyword}{def\ }plotEvent(ax):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00281}00281\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ ax.plot(df.iloc[event[\textcolor{stringliteral}{"{}start\_index"{}}]-\/Extra:event[\textcolor{stringliteral}{"{}start\_index"{}}]][columns[c]],\ color=\textcolor{stringliteral}{"{}b"{}})\ \textcolor{comment}{\#\ plot\ 1.5x\ event\ steps\ before\ event\ in\ blue}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ ax.plot(df.iloc[event[\textcolor{stringliteral}{"{}start\_index"{}}]-\/1:event[\textcolor{stringliteral}{"{}end\_index"{}}]+1][columns[c]],\ color=\textcolor{stringliteral}{"{}r"{}})\ \textcolor{comment}{\#\ plot\ event\ in\ RED}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ ax.plot(df.iloc[event[\textcolor{stringliteral}{"{}end\_index"{}}]:event[\textcolor{stringliteral}{"{}end\_index"{}}]+Extra][columns[c]],\ color=\textcolor{stringliteral}{"{}b"{}})\ \textcolor{comment}{\#\ plot\ 1.5x\ event\ steps\ after\ event\ in\ blue}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#ax.set\_xlabel('time',\ fontsize=10)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ ax.set\_title(columns[c],\ fontsize=12)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ ax.set\_xticklabels(ax.get\_xticklabels(),\ rotation=25,\ fontsize=6)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00289}00289\ \ \ \ \ \textcolor{keywordflow}{for}\ ax\ \textcolor{keywordflow}{in}\ axs.flat:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ c\ >=\ len(columns):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ plotEvent(ax)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00293}00293\ \ \ \ \ \ \ \ \ c\ +=\ 1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00294}00294\ \ \ \ \ \textcolor{keywordflow}{if}\ Save:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ fig.savefig(\textcolor{stringliteral}{"{}event\_\{\}\_\{\}.png"{}}.format(event[\textcolor{stringliteral}{"{}Event"{}}],\ Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00296}00296\ \ \ \ \ fig.tight\_layout()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00299}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{00299}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(H,Size=1.0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00300}00300\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Empirical\ equation\ for\ Domestic\ Hot\ Water\ usage.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00301}00301\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00302}00302\ \textcolor{stringliteral}{\ \ \ \ @param\ H\ \ Hour\ of\ the\ day\ for\ which\ to\ get\ the\ L/h\ value}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00303}00303\ \textcolor{stringliteral}{\ \ \ \ @param\ Size\ \ size\ of\ household,\ number\ of\ inhabitants}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00304}00304\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00305}00305\ \textcolor{stringliteral}{\ \ \ \ @return\ \ A\ new\ dataframe\ with\ events\ linked\ to\ categories}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00306}00306\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00307}00307\ \ \ \ \ UsageConst\ =\ 120\ +\ random.randint(-\/20,20)\ \textcolor{comment}{\#\ +/-\/\ some\ randomness,\ usageconstant\ is\ +/-\/\ total\ L\ a\ user\ requires}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00308}00308\ \ \ \ \ Set\ =\ [[0.45*Size*UsageConst,7.7,1.2],[0.15*Size*UsageConst,12.5,2],[0.4*Size*UsageConst,19.5,2.7]]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00309}00309\ \ \ \ \ result\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00310}00310\ \ \ \ \ \textcolor{keyword}{def\ }StochFcn(T,f,mu,sigma):\ \textcolor{comment}{\#\ Actual\ function\ for\ stochastic\ DHW\ usage\ determination}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (f/(sigma*math.sqrt(2*math.pi)))*math.exp(-\/0.5*((T-\/mu)/sigma)**2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00312}00312\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ Set:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ result\ +=\ StochFcn(H,i[0],i[1],i[2])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00314}00314\ \ \ \ \ \textcolor{keywordflow}{return}\ result/1000\textcolor{comment}{\#\ L/s}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00315}00315\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00317}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a054d957ed5694406866987e1ca300e5c}{00317}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a054d957ed5694406866987e1ca300e5c}{linint}}(x1,x2,y1,y2):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00318}00318\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Linear\ interpolation.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00319}00319\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00320}00320\ \textcolor{stringliteral}{\ \ \ \ @param\ x1\ \ value\ \ (x2-\/x1)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00321}00321\ \textcolor{stringliteral}{\ \ \ \ @param\ x2\ \ value\ \ (x2-\/x1)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00322}00322\ \textcolor{stringliteral}{\ \ \ \ @param\ y1\ \ value\ \ delta\ =\ y2-\/y1}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00323}00323\ \textcolor{stringliteral}{\ \ \ \ @param\ y2\ \ value\ \ delta\ =\ y2-\/y1}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00324}00324\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00325}00325\ \textcolor{stringliteral}{\ \ \ \ @return\ x2-\/x1\ frames\ interpolated\ between\ y2\ and\ y1"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00326}00326\ \ \ \ \ Delta\ =\ y2-\/y1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00327}00327\ \ \ \ \ Frames\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00328}00328\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(x2-\/x1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ Frames.append(y1+Delta*(i+1))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00330}00330\ \ \ \ \ \textcolor{keywordflow}{return}\ Frames}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00331}00331\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00332}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad2f79aa6a576fe089b1c390117f1f7d5}{00332}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad2f79aa6a576fe089b1c390117f1f7d5}{SimilarityCheck}}(df,data,\ corrector,\ ULimit\ =\ 50.0,\ LLimit\ =\ -\/15.0,\ ROCLimit\ =\ 30.0/(12.0*60*60),\ VERBOSE=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00333}00333\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}General\ sanity\ and\ similarity\ check}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00334}00334\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00335}00335\ \textcolor{stringliteral}{\ \ \ \ @param\ df\ \ base\ dataframe\ containing\ all\ series\ to\ work\ with}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00336}00336\ \textcolor{stringliteral}{\ \ \ \ @param\ data\ \ name\ of\ column\ in\ dataframe\ which\ needs\ to\ be\ corrected}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00337}00337\ \textcolor{stringliteral}{\ \ \ \ @param\ corrector\ \ name\ of\ column\ in\ dataframe\ which\ can\ be\ used\ to\ correct\ data}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00338}00338\ \textcolor{stringliteral}{\ \ \ \ @param\ ULimit\ \ the\ upper\ limit,\ exceeding\ this\ value\ means\ that\ values\ from\ corrector\ will\ be\ taken}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00339}00339\ \textcolor{stringliteral}{\ \ \ \ @param\ LLimit\ \ the\ lower\ limit,\ going\ below\ this\ value\ means\ that\ values\ from\ corrector\ will\ be\ taken}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00340}00340\ \textcolor{stringliteral}{\ \ \ \ @param\ ROCLimit\ \ if\ this\ Rate\ Of\ Change\ is\ exceeded,\ values\ from\ corrector\ are\ taken}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00341}00341\ \textcolor{stringliteral}{\ \ \ \ @param\ VERBOSE\ \ if\ this\ value\ is\ bigger\ the\ 0,\ corrected\ values\ will\ be\ reported\ in\ the\ log\ with\ more\ details}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00342}00342\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00343}00343\ \textcolor{stringliteral}{\ \ \ \ @return\ The\ original\ dataframe\ but\ with\ the\ data\ column\ fixed\ according\ to\ above\ \ rules."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00344}00344\ \ \ \ \ prev\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00345}00345\ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ \ enumerate(df[data]):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ x\ >\ ULimit\ \textcolor{keywordflow}{or}\ x\ <\ LLimit:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ df[data][i]\ =\ df[corrector][i]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Detected\ error\ at\ \{\}\ ,\ x\ =\ \{\}\ <\ \{\}\ and\ >\ \{\}.\ Replaced\ for\ \{\}"{}}.format(i,\ x,\ ULimit,\ LLimit,\ df[corrector][i]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ i\ !=\ 0\ \textcolor{keywordflow}{and}\ i\ !=\ len(df):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ abs(x\ -\/\ prev)/df[\textcolor{stringliteral}{"{}dt"{}}][i]\ >\ ROCLimit:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}ROC\ Exceedance\ \{\}\ ,\ x\ =\ \{\}\ >\ \{\}.\ Replaced\ for\ \{\}"{}}.format(i,\ abs(x\ -\/\ prev)/df[\textcolor{stringliteral}{"{}dt"{}}][i],\ ROCLimit,\ df[corrector][i]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00355}00355\ \ \ \ \ \textcolor{comment}{\#\ data\ is\ the\ trend\ we\ want\ to\ repair/check.\ This\ is\ basicaully\ used\ for\ calculations\ down\ the\ line\ and\ we\ NEED\ good\ data\ here.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00356}00356\ \ \ \ \ \textcolor{comment}{\#\ corrector\ is\ the\ corrector\ trend,\ which\ contains\ only\ good\ data.\ This\ must\ be\ assigned\ manually\ for\ each\ case.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00357}00357\ \ \ \ \ \textcolor{keywordflow}{return}\ df}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00358}00358\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00359}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad587464e66b523e2a69ebe892bcb8616}{00359}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad587464e66b523e2a69ebe892bcb8616}{EnvironmentTemperatureCheck}}(df,\ ROCLimit\ =\ 30.0/(12.0*60*60),\ ULimit\ =\ 50.0,\ LLimit\ =\ -\/15.0,\ VERBOSE=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00360}00360\ \ \ \ \ \textcolor{comment}{\#\ Assumption\ is\ that\ temperature\ never\ goes\ above\ 50\ degrees\ celsius}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00361}00361\ \ \ \ \ \textcolor{comment}{\#\ and\ that\ it\ does\ not\ change\ faster\ then\ a\ certain\ rate\ of\ change\ per\ time\ unit}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00362}00362\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00363}00363\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ df:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ prev\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00365}00365\ \ \ \ \ \ \ \ \ indexerr\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ next\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ indexend\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ x\ \textcolor{keywordflow}{in}\ enumerate(df[i]):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ j\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (abs(x-\/\ prev)/df[\textcolor{stringliteral}{"{}dt"{}}][j]\ >\ ROCLimit\ \textcolor{keywordflow}{or}\ x\ >\ ULimit)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indexerr\ =\ j}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Found\ error\ in\ \{\},\ \{\}\ <\ \{\}\ at\ i\ =\ \{\}"{}}.format(i,\ x,\ prev,\ j))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{keywordflow}{not}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ abs(x-\/\ prev)/df[\textcolor{stringliteral}{"{}dt"{}}][j]\ <\ ROCLimit\ \textcolor{keywordflow}{and}\ x\ <\ ULimit:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Error\ for\ \{\}\ seems\ to\ be\ restored\ at\ \{\},\ \{\}\ >\ \{\};\ error\ continues\ for\ \{\}\ dataframes"{}}.format(i,\ j,\ x,\ prev,\ j-\/indexerr))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indexend\ =\ j}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GeneratedFrames\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a054d957ed5694406866987e1ca300e5c}{linint}}(indexerr,indexend,prev,next)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,z\ \textcolor{keywordflow}{in}\ enumerate(GeneratedFrames):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ old\ =\ df[i][indexerr+k]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ df[i][indexerr+k]\ =\ z}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Set\ \{\}\ from\ \{\}\ to\ \{\},\ now:\ \{\}"{}}.format(indexerr+k,\ old,\ z,\ df[i][indexerr+k]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\{\}\ frames\ were\ generated\ to\ fill\ the\ gap\ from\ \{\}\ to\ \{\}"{}}.format(GeneratedFrames,\ indexerr,\ indexend))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00396}00396\ \ \ \ \ \textcolor{keywordflow}{return}\ df}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00397}00397\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00398}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6e2b3c22d32fdf80f2d7cb6651fb2982}{00398}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6e2b3c22d32fdf80f2d7cb6651fb2982}{RepairCumulatives}}(df,VERBOSE=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00399}00399\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Repair\ cumulative\ trends\ from\ smart\ meter\ data.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00400}00400\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00401}00401\ \textcolor{stringliteral}{\ \ \ \ @param\ df\ \ input\ cumulative\ trends\ dataframe\ to\ repair}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00402}00402\ \textcolor{stringliteral}{\ \ \ \ @param\ VERBOSE\ \ verbosity\ switch\ to\ generate\ reports\ for\ different\ levels\ of\ knowledge}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00403}00403\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00404}00404\ \textcolor{stringliteral}{\ \ \ \ @return\ dataframe\ with\ actually\ cumulative\ trends."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00405}00405\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ df:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00406}00406\ \ \ \ \ \ \ \ \ prev\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ indexerr\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ next\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ indexend\ =\ 0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ x\ \textcolor{keywordflow}{in}\ enumerate(df[i]):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ j\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ x\ <\ prev\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indexerr\ =\ j}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Found\ error\ in\ \{\},\ \{\}\ <\ \{\}\ at\ i\ =\ \{\}"{}}.format(i,\ x,\ prev,\ j))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{keywordflow}{not}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ err:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ x\ >\ prev:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Error\ for\ \{\}\ seems\ to\ be\ restored\ at\ \{\},\ \{\}\ >\ \{\};\ error\ continues\ for\ \{\}\ dataframes"{}}.format(i,\ j,\ x,\ prev,\ j-\/indexerr))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indexend\ =\ j}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\ =\ x}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GeneratedFrames\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a054d957ed5694406866987e1ca300e5c}{linint}}(indexerr,indexend,prev,next)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,z\ \textcolor{keywordflow}{in}\ enumerate(GeneratedFrames):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ old\ =\ df[i][indexerr+k]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ df[i][indexerr+k]\ =\ z}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Set\ \{\}\ from\ \{\}\ to\ \{\},\ now:\ \{\}"{}}.format(indexerr+k,\ old,\ z,\ df[i][indexerr+k]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\{\}\ frames\ were\ generated\ to\ fill\ the\ gap\ from\ \{\}\ to\ \{\}"{}}.format(GeneratedFrames,\ indexerr,\ indexend))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00438}00438\ \ \ \ \ \textcolor{keywordflow}{return}\ df}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00439}00439\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00440}00440\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00441}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0a1a42b6da1a549a9b303dada976924e}{00441}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8fbb8c1537e6e3eff60f8e6426ef26c2}{PdTtoV}}(x,\ T1,\ T2,\ Pdhw):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00442}00442\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ DHW\ flow\ rate\ based\ on\ temperature\ difference\ and\ power.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00443}00443\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00444}00444\ \textcolor{stringliteral}{\ \ \ \ @param\ x\ \ series\ with\ power\ of\ domestic\ hot\ water}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00445}00445\ \textcolor{stringliteral}{\ \ \ \ @param\ T1\ \ value\ \ (x2-\/x1)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00446}00446\ \textcolor{stringliteral}{\ \ \ \ @param\ T2\ \ value\ \ delta\ =\ y2-\/y1}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00447}00447\ \textcolor{stringliteral}{\ \ \ \ @param\ y2\ \ value\ \ delta\ =\ y2-\/y1}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00448}00448\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00449}00449\ \textcolor{stringliteral}{\ \ \ \ @return\ x2-\/x1\ frames\ interpolated\ between\ y2\ and\ y1"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00450}00450\ \ \ \ \ rho\ =\ 1008.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00451}00451\ \ \ \ \ cp\ =\ 4.2}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00452}00452\ \ \ \ \ \textcolor{keywordflow}{return}\ (x[Pdhw]\ /\ rho*cp*(x[T1]-\/x[T2]))\ \ \textcolor{comment}{\#\ returns\ m3/s}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00454}00454\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00455}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8dbd14ec38e92d99b89bc5983502e12b}{00455}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8dbd14ec38e92d99b89bc5983502e12b}{fracH}}(dt):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00456}00456\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ the\ fraction\ of\ an\ hour,\ for\ interpolation.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00457}00457\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00458}00458\ \textcolor{stringliteral}{\ \ \ \ @param\ dt\ datetime\ time\ object}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00459}00459\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00460}00460\ \textcolor{stringliteral}{\ \ \ \ @return\ decimal\ number\ between\ 0\ and\ 24"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00461}00461\ \ \ \ \ frach\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00462}00462\ \ \ \ \ \textcolor{keywordflow}{if}\ dt.minute\ !=\ 0\ \textcolor{keywordflow}{or}\ dt.second\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00463}00463\ \ \ \ \ \ \ \ \ frach\ =\ ((dt.minute*60\ +\ dt.second)/3600.0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00464}00464\ \ \ \ \ \textcolor{keywordflow}{return}\ float(dt.hour)\ +\ frach}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00465}00465\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00466}00466\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00467}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a9a9f945f98818dbe441ea04cafa0f109}{00467}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ae9f224b0bd1bb5ccbb0be853792c0fe0}{PandasDHWWrapper}}(x,\ Inhabitants\ =\ 1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00468}00468\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Wrap\ for\ Domestic\ Hot\ Water\ empirical\ equation\ for\ Pandas\ Apply.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00469}00469\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00470}00470\ \textcolor{stringliteral}{\ \ \ \ @param\ x\ \ a\ pandas\ dataframe\ to\ which\ DHW\ will\ be\ appended}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00471}00471\ \textcolor{stringliteral}{\ \ \ \ @param\ Inhabitants\ \ amount\ of\ inhabitants\ for\ which\ to\ generate\ a\ DHW\ profile}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00472}00472\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00473}00473\ \textcolor{stringliteral}{\ \ \ \ @return\ DHW\ profile\ for\ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00474}00474\ \ \ \ \ frach\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8dbd14ec38e92d99b89bc5983502e12b}{fracH}}(x.name)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00475}00475\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(frach,\ Inhabitants)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00476}00476\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00477}00477\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00478}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{00478}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(msg,\ verbosityLimit\ =\ None):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00479}00479\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Function\ to\ unify\ logging,\ messaging,\ errors\ and\ report\ generation.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00480}00480\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00481}00481\ \textcolor{stringliteral}{\ \ \ \ @param\ msg\ \ Message\ to\ append\ to\ log\ or\ report}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00482}00482\ \textcolor{stringliteral}{\ \ \ \ @param\ verbosityLimit\ The\ verbosity\ number\ connected\ to\ this\ message.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00483}00483\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00484}00484\ \textcolor{stringliteral}{\ \ \ \ @return\ sets\ Log,\ Verbosity\ and\ Headers\ for\ every\ message"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00485}00485\ \ \ \ \ \textcolor{keyword}{global}\ Log}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00486}00486\ \ \ \ \ \textcolor{keyword}{global}\ Verbosity}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00487}00487\ \ \ \ \ \textcolor{keyword}{global}\ Headers}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00488}00488\ \ \ \ \ \textcolor{keywordflow}{if}\ verbosityLimit\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ verbosityLimit\ =\ Verbosity}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00490}00490\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ Verbosity\ =\ verbosityLimit}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00492}00492\ \ \ \ \ \textcolor{keywordflow}{if}\ args.verbose\ >=\ verbosityLimit:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ print(msg)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ Log\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}}\ +\ str(msg)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ str(msg)[0]\ ==\ \textcolor{stringliteral}{"{}\#"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ Headers\ +=\ str(msg)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ Headers\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00498}00498\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00499}00499\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00500}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{00500}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(title,\ data,\ Instance,\ fig\ =\ None,\ sort\ =\ None,\ kind\ =\ None,\ verbosityLimit\ =\ None):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00501}00501\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Add\ figure\ to\ the\ created\ log.\ And\ make\ sure\ it\ is\ rendered\ properly\ in\ HTML}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00502}00502\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00503}00503\ \textcolor{stringliteral}{\ \ \ \ @param\ title\ \ the\ name\ of\ the\ figure\ under\ which\ it\ will\ be\ saved}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00504}00504\ \textcolor{stringliteral}{\ \ \ \ @param\ data\ \ the\ data\ to\ plot\ in\ the\ figure}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00505}00505\ \textcolor{stringliteral}{\ \ \ \ @param\ fig\ \ the\ figure\ object\ to\ plot,\ to\ allow\ customization\ but\ still\ end\ up\ in\ log/report.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00506}00506\ \textcolor{stringliteral}{\ \ \ \ @param\ sort\ \ If\ the\ data\ to\ be\ plotted\ needs\ to\ be\ sorted\ or\ not,\ generates\ time-\/duration\ curves.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00507}00507\ \textcolor{stringliteral}{\ \ \ \ @param\ kind\ \ type\ of\ matplotlib\ plot\ to\ generate\ (line,\ bar,\ etc.)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00508}00508\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00509}00509\ \textcolor{stringliteral}{\ \ \ \ @param\ return\ \ Adds\ figure\ to\ Log,\ either\ HTML\ or\ a\ link\ to\ the\ output\ figure."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00510}00510\ \ \ \ \ \textcolor{keyword}{global}\ Log}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00511}00511\ \ \ \ \ \textcolor{keyword}{global}\ Verbosity}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00512}00512\ \ \ \ \ \textcolor{keywordflow}{if}\ verbosityLimit\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00513}00513\ \ \ \ \ \ \ \ \ verbosityLimit\ =\ Verbosity}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00514}00514\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ Verbosity\ =\ verbosityLimit}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00516}00516\ \ \ \ \ \textcolor{keywordflow}{if}\ kind\ ==\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ kind\ =\ \textcolor{stringliteral}{"{}line"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00518}00518\ \ \ \ \ \textcolor{keywordflow}{if}\ fig\ ==\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}plotly"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00520}00520\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sort\ ==\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00521}00521\ \ \ \ \ \ \ \ \ \ \ \ \ fig\ =\ data.loc[:,\ data.columns\ !=\ \textcolor{stringliteral}{'DateTime'}].plot(kind=kind)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00522}00522\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00523}00523\ \ \ \ \ \ \ \ \ \ \ \ \ fig\ =\ data.loc[:,\ data.columns\ !=\ \textcolor{stringliteral}{'DateTime'}].resample(\textcolor{stringliteral}{"{}1h"{}}).mean().interpolate().sort\_values(sort,ascending=\textcolor{keyword}{False}).reset\_index(drop=\textcolor{keyword}{True}).plot(kind=kind)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00524}00524\ \ \ \ \ figname\ =\ \textcolor{stringliteral}{'\{\}\_\{\}.html'}.format(title,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00525}00525\ \ \ \ \ Str\ =\ fig.write\_html(figname,\ auto\_open=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00526}00526\ \ \ \ \ \textcolor{keyword}{with}\ open(figname,\ \textcolor{stringliteral}{'r'},\ errors=\textcolor{stringliteral}{"{}ignore"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ plotly\_html\ =\ f.read()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00528}00528\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00529}00529\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ \{\}"{}}.format(title))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00530}00530\ \ \ \ \ \textcolor{keywordflow}{if}\ args.verbose\ >=\ Verbosity:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ Log\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ +\ plotly\_html}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00532}00532\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00533}00533\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00534}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa9ed57be29aabfe20c83e11207c78738}{00534}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa9ed57be29aabfe20c83e11207c78738}{Carnot}}(Tc,Th):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00535}00535\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ Carnot\ efficiency.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00536}00536\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00537}00537\ \textcolor{stringliteral}{\ \ \ \ @param\ Tc\ \ cold\ temperature\ in\ celsius.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00538}00538\ \textcolor{stringliteral}{\ \ \ \ @param\ Th\ \ hot\ temperature\ in\ celsius.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00539}00539\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00540}00540\ \textcolor{stringliteral}{\ \ \ \ @return\ Carnot\ efficiency"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00541}00541\ \ \ \ \ c\ =\ 273.15}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00542}00542\ \ \ \ \ \textcolor{keywordflow}{return}\ 1/(1-\/((c+Tc)/(c+Th)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00543}00543\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00544}00544\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00545}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aeef4654bf4c070a33b2129de4c54741f}{00545}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aeef4654bf4c070a33b2129de4c54741f}{COP}}(Pth,Pel):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00546}00546\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ Coefficient\ of\ Performance.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00547}00547\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00548}00548\ \textcolor{stringliteral}{\ \ \ \ @param\ Pth\ \ Thermal\ power\ units\ do\ not\ matter\ as\ long\ as\ they\ are\ both\ the\ same.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00549}00549\ \textcolor{stringliteral}{\ \ \ \ @param\ Pel\ \ Electrical\ power,\ units\ do\ not\ matter\ as\ long\ as\ they\ are\ the\ same.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00550}00550\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00551}00551\ \textcolor{stringliteral}{\ \ \ \ @return\ Coefficient\ of\ Performance"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00552}00552\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00553}00553\ \ \ \ \ \ \ \ \ COP\ =\ Pth/Pel}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00554}00554\ \ \ \ \ \textcolor{keywordflow}{except}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00555}00555\ \ \ \ \ \ \ \ \ COP\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00556}00556\ \ \ \ \ \textcolor{keywordflow}{return}\ COP}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00557}00557\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00559}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{00559}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(df,Columns,scaleArray\ =\ None,\ reverse\ =\ False):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00560}00560\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Find\ delta\ in\ dataset\ and\ divide\ Columns\ by\ time.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00561}00561\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00562}00562\ \textcolor{stringliteral}{\ \ \ \ @param\ df\ \ input\ dataset\ containing\ columns\ to\ divide\ by\ time}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00563}00563\ \textcolor{stringliteral}{\ \ \ \ @param\ Columns\ \ Columns\ to\ divide\ by\ time.\ Delta\ will\ be\ detected\ automatically}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00564}00564\ \textcolor{stringliteral}{\ \ \ \ @param\ scaleArray\ \ Scaling\ to\ apply\ when\ dividing\ by\ time}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00565}00565\ \textcolor{stringliteral}{\ \ \ \ @param\ reverse\ \ Reverse\ the\ operation\ or\ not.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00566}00566\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00567}00567\ \textcolor{stringliteral}{\ \ \ \ @return\ df\ \ return\ the\ transformed\ dataframe.\ Calling\ same\ function\ with\ identical\ arguments\ but\ reverse\ =\ True\ returns\ to\ the\ original."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00568}00568\ \ \ \ \ dt\ =\ (df.index[1]\ -\/\ df.index[0]).total\_seconds()\ \textcolor{comment}{\#\ find\ delta\ time}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00569}00569\ \ \ \ \ \textcolor{keywordflow}{if}\ scaleArray\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:\ \textcolor{comment}{\#\ if\ scale\ array\ was\ not\ define,\ fill\ it\ with\ ones}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00570}00570\ \ \ \ \ \ \ \ \ scaleArray\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00571}00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ Columns:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00572}00572\ \ \ \ \ \ \ \ \ \ \ \ \ scaleArray.append(1.0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00573}00573\ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ enumerate(Columns):\ \textcolor{comment}{\#\ for\ each\ item,\ do\ a\ persistent\ scaling\ edit}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00574}00574\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ reverse:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00575}00575\ \ \ \ \ \ \ \ \ \ \ \ \ df[x]\ =\ df[x]*scaleArray[i]/dt}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00576}00576\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00577}00577\ \ \ \ \ \ \ \ \ \ \ \ \ df[x]\ =\ df[x]*dt}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00578}00578\ \ \ \ \ \textcolor{keywordflow}{return}\ df}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00579}00579\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00580}00580\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00581}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a748b6e4a23141150eb7eea30e37adc56}{00581}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a748b6e4a23141150eb7eea30e37adc56}{KNMI\_Resampler}}(FileName,\ T\_Columns,\ ScaleArray,\ RevertArray\ =\ None,\ Interval\ =\ "{}5min"{},header\ =\ 28,\ Export=False,plot=False):\ \textcolor{comment}{\#\ \ header\ is\ the\ line\ with\ the\ hashtag\#!}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00582}00582\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ KNMI\ file\ reader\ with\ different\ output\ modi.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00583}00583\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00584}00584\ \textcolor{stringliteral}{\ \ \ \ @param\ \ FileName\ \ the\ filename\ with\ KNMI\ data\ to\ open,\ can\ include\ the\ path}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00585}00585\ \textcolor{stringliteral}{\ \ \ \ @param\ T\_Columns\ \ Time\ independent\ columns;\ the\ code\ needs\ to\ be\ aware\ of\ these\ in\ order\ to\ correctly\ interpolate.\ Array\ of\ strings.1}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00586}00586\ \textcolor{stringliteral}{\ \ \ \ @param\ ScaleArray\ \ Scales\ T\_Columns,\ amount\ of\ items\ should\ match\ T\_Columns}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00587}00587\ \textcolor{stringliteral}{\ \ \ \ @param\ RevertArray\ \ Revert\ T\_Columns\ through\ the\ scalars\ given\ here,\ amount\ of\ items\ should\ match\ T\_Columns}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00588}00588\ \textcolor{stringliteral}{\ \ \ \ @param\ Interval\ \ Time\ interval\ to\ interpolate\ or\ extrapolate\ towards.\ Can\ be\ a\ string\ like\ 5s,\ 5min,\ 1h,\ 1d,\ etc.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00589}00589\ \textcolor{stringliteral}{\ \ \ \ @param\ header\ \ Number\ of\ lines\ to\ skip\ for\ the\ header\ line.\ Open\ the\ input\ file\ to\ find\ this.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00590}00590\ \textcolor{stringliteral}{\ \ \ \ @param\ Export\ \ If\ the\ resulting\ data\ needs\ to\ be\ exported\ to\ .CSV\ for\ future\ use\ or\ not.\ True\ or\ False}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00591}00591\ \textcolor{stringliteral}{\ \ \ \ @param\ plot\ \ If\ set\ to\ True,\ a\ plot\ will\ be\ opened\ on\ completion.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00592}00592\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00593}00593\ \textcolor{stringliteral}{\ \ \ \ @return\ A\ Pandas\ dataFrame\ transformed\ as\ configured}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00594}00594\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00595}00595\ \ \ \ \ KNMI\ =\ pd.read\_csv(FileName,header\ =header\ ,sep=\textcolor{stringliteral}{"{},"{}},na\_values=\textcolor{stringliteral}{"{}\ \ \ \ \ "{}})\ \ \ \ \ \textcolor{comment}{\#\ open\ the\ file}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00596}00596\ \ \ \ \ print(KNMI)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00597}00597\ \ \ \ \ FixHour\ =\ \textcolor{keyword}{lambda}\ x:\ \textcolor{stringliteral}{"{}0\{\}"{}}.format(x-\/1)\ \textcolor{keywordflow}{if}\ len(str(x-\/1))\ ==\ 1\ \textcolor{keywordflow}{else}\ str(x-\/1)\ \ \textcolor{comment}{\#\ fix\ hours\ in\ file}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00598}00598\ \ \ \ \ KNMI[\textcolor{stringliteral}{"{}\ \ \ HH"{}}]\ =\ KNMI[\textcolor{stringliteral}{"{}\ \ \ HH"{}}].apply(\textcolor{keyword}{lambda}\ x:\ FixHour(x))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ apply\ the\ fix}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00599}00599\ \ \ \ \ KNMI[\textcolor{stringliteral}{"{}Time"{}}]\ =\ KNMI.YYYYMMDD.map(str)\ +\textcolor{stringliteral}{"{}\ "{}}+\ KNMI[\textcolor{stringliteral}{"{}\ \ \ HH"{}}].map(str)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ combine\ date\ and\ time}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00600}00600\ \ \ \ \ KNMI[\textcolor{stringliteral}{"{}Time"{}}]\ =\ pd.to\_datetime(KNMI.Time,\ format=\textcolor{stringliteral}{"{}\%Y\%m\%d\ \%H"{}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ convert\ datetime\ to\ datetime.datetime\ indexed\ object}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00601}00601\ \ \ \ \ KNMI\ =\ KNMI.drop([\textcolor{stringliteral}{"{}\ \ \ HH"{}},\textcolor{stringliteral}{"{}\#\ STN"{}},\textcolor{stringliteral}{"{}YYYYMMDD"{}}],axis=1)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ drop\ useless\ columns}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00602}00602\ \ \ \ \ KNMI\ =\ KNMI.set\_index(\textcolor{stringliteral}{"{}Time"{}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ set\ index\ as\ time\ column}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00603}00603\ \ \ \ \ KNMI\ =\ KNMI.shift(periods=1).bfill()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00604}00604\ \ \ \ \ KNMI\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(KNMI,T\_Columns,\ ScaleArray)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ convert\ time\ independent\ columns\ to\ time\ dependent\ columns}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00605}00605\ \ \ \ \ KNMI\ =\ KNMI.resample(Interval).mean().interpolate()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ now\ do\ the\ interpolation!}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00606}00606\ \ \ \ \ \textcolor{keywordflow}{if}\ RevertArray\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ a\ revert\ array\ was\ defined}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00607}00607\ \ \ \ \ \ \ \ \ KNMI\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(KNMI,RevertArray,\ ScaleArray,\ reverse\ =\ \textcolor{keyword}{True})\ \ \ \ \ \ \textcolor{comment}{\#\ revert\ the\ columns\ to\ their\ original\ units\ with\ new\ delta\ t}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00608}00608\ \ \ \ \ NewFileName\ =\ \textcolor{stringliteral}{"{}\{\}\_\{\}.csv"{}}.format(FileName.split(\textcolor{stringliteral}{"{}."{}})[0],Interval)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00609}00609\ \ \ \ \ \textcolor{keywordflow}{if}\ Export:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00610}00610\ \ \ \ \ \ \ \ \ KNMI.to\_csv(NewFileName)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00611}00611\ \ \ \ \ \textcolor{keywordflow}{if}\ plot:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00612}00612\ \ \ \ \ \ \ \ \ KNMI.plot()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00613}00613\ \ \ \ \ KNMI[\textcolor{stringliteral}{"{}\ \ \ \ T"{}}]\ =\ KNMI[\textcolor{stringliteral}{"{}\ \ \ \ T"{}}]*0.1\ \textcolor{comment}{\#\ scale\ to\ C}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00614}00614\ \ \ \ \ KNMI[\textcolor{stringliteral}{"{}\ \ \ \ FF"{}}]\ =\ KNMI[\textcolor{stringliteral}{"{}\ \ \ FF"{}}]*0.1\ \textcolor{comment}{\#\ scale\ to\ mm}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00615}00615\ \ \ \ \ \textcolor{keywordflow}{return}\ KNMI[[\textcolor{stringliteral}{"{}\ \ \ \ T"{}},\textcolor{stringliteral}{"{}\ \ \ \ Q"{}},\textcolor{stringliteral}{"{}\ \ \ DD"{}},\textcolor{stringliteral}{"{}\ \ \ FH"{}},\textcolor{stringliteral}{"{}\ \ \ RH"{}}]]\ \textcolor{comment}{\#\ returns\ temperature,\ solar\ radiation,\ wind\ direction,\ wind\ speed,\ rainfall.\ Anything\ that\ can\ influence\ thermal\ balance.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00616}00616\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00617}00617\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00618}00618\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00619}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a5ccda5a9527d60260eda95ad946bb749}{00619}}\ white\ =\ (255,\ 255,\ 255,\ 255)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00620}00620\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00621}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a06f5fab3acebaee19f6bafa3575942af}{00621}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a06f5fab3acebaee19f6bafa3575942af}{latex\_to\_img}}(tex):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00622}00622\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ Latex\ expression\ to\ .png\ image}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00623}00623\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00624}00624\ \textcolor{stringliteral}{\ \ \ \ @param\ tex\ \ the\ latex\ expression\ to\ convert\ to\ an\ image}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00625}00625\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00626}00626\ \textcolor{stringliteral}{\ \ \ \ @return\ an\ html\ compatible\ image?\ (check\ this!)"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00627}00627\ \ \ \ \ buf\ =\ io.BytesIO()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00628}00628\ \ \ \ \ plt.rc(\textcolor{stringliteral}{'text'},\ usetex=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00629}00629\ \ \ \ \ plt.rc(\textcolor{stringliteral}{'font'},\ family=\textcolor{stringliteral}{'serif'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00630}00630\ \ \ \ \ plt.axis(\textcolor{stringliteral}{'off'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00631}00631\ \ \ \ \ plt.text(0.05,\ 0.5,\ f\textcolor{stringliteral}{'\$\{tex\}\$'},\ size=40)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00632}00632\ \ \ \ \ plt.savefig(buf,\ format=\textcolor{stringliteral}{'png'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00633}00633\ \ \ \ \ plt.close()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00634}00634\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00635}00635\ \ \ \ \ im\ =\ Image.open(buf)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00636}00636\ \ \ \ \ bg\ =\ Image.new(im.mode,\ im.size,\ white)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00637}00637\ \ \ \ \ diff\ =\ ImageChops.difference(im,\ bg)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00638}00638\ \ \ \ \ diff\ =\ ImageChops.add(diff,\ diff,\ 2.0,\ -\/100)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00639}00639\ \ \ \ \ bbox\ =\ diff.getbbox()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00640}00640\ \ \ \ \ \textcolor{keywordflow}{return}\ im.crop(bbox)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00641}00641\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00642}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a9677202f505710d2296b91bd116a9f6e}{00642}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a9677202f505710d2296b91bd116a9f6e}{Lambda2Tex}}(lmd,\ VERBOSE=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00643}00643\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ Lambda\ system\ of\ equations\ to\ latex}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00644}00644\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00645}00645\ \textcolor{stringliteral}{\ \ \ \ @param\ lmd\ \ lambda\ function\ to\ convert}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00646}00646\ \textcolor{stringliteral}{\ \ \ \ @param\ VERBOSE\ \ retardcounter\ higher\ =\ less\ retarded}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00647}00647\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00648}00648\ \textcolor{stringliteral}{\ \ \ \ @return\ the\ converted\ equation\ in\ tex\ format"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00649}00649\ \ \ \ \ f\ =\ inspect.getsourcelines(lmd)[0][0].split(\textcolor{stringliteral}{"{}:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00650}00650\ \ \ \ \ eq\ =\ f[0].split(\textcolor{stringliteral}{'"{}'})[1]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00651}00651\ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00652}00652\ \ \ \ \ \ \ \ \ print(eq)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00653}00653\ \ \ \ \ fcn\ =\ f[-\/1].split(\textcolor{stringliteral}{"{},"{}})[0].split(\textcolor{stringliteral}{"{}\}"{}})[0]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00654}00654\ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00655}00655\ \ \ \ \ \ \ \ \ print(fcn)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00656}00656\ \ \ \ \ eq\ =\ eq\ +\ \textcolor{stringliteral}{"{}\ ="{}}\ +\ fcn}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00657}00657\ \ \ \ \ \textcolor{keywordflow}{if}\ VERBOSE\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00658}00658\ \ \ \ \ \ \ \ \ print(eq)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00659}00659\ \ \ \ \ \textcolor{keywordflow}{return}\ eq}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00660}00660\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00661}00661\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00662}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a94d86d5585fc3679a090429b6a91c58b}{00662}}\ CategoryWeights\ =\ [[\textcolor{stringliteral}{"{}Combined\_Categories"{}},\ \textcolor{stringliteral}{"{}User\_Electric"{}},\ \textcolor{stringliteral}{"{}User\_Thermal"{}},\ \textcolor{stringliteral}{"{}Building\_thermal"{}},\ \textcolor{stringliteral}{"{}Installation\_Electric"{}},\ \textcolor{stringliteral}{"{}Installation\_Thermal"{}},\ \textcolor{stringliteral}{"{}Weather\_thermal"{}}]]\textcolor{comment}{\#,}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00663}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad032136fd2e3b89ba1ef6a2d0c771049}{00663}}\ BaseWeights\ =\ [[\textcolor{stringliteral}{"{}Combined\_Categories"{}},\ \textcolor{stringliteral}{"{}User\_Electric"{}},\ \textcolor{stringliteral}{"{}User\_Thermal"{}},\ \textcolor{stringliteral}{"{}Building\_thermal"{}},\ \textcolor{stringliteral}{"{}Installation\_Electric"{}},\ \textcolor{stringliteral}{"{}Installation\_Thermal"{}},\ \textcolor{stringliteral}{"{}Weather\_thermal"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00664}00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}Tlive"{}},\ 0,\ 0.9,\ 0.05,\ 0,\ 0.05,\ 0],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00665}00665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}Ttraffic"{}},\ 0,\ 0.5,\ 0,\ 0,\ 0.2,\ 0.3],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00666}00666\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}Tambient"{}},\ 0,\ 0.5,\ 0,\ 0,\ 0.2,\ 0.3],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00667}00667\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}Emachine"{}},\ 0.1,\ 0.1,\ 0.2,\ 0.5,\ 0.1,\ 0]]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00668}00668\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00669}00669\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00670}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{00670}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(trends,\ newtrend,\ CategoryWeights,\ Verbose=0):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00671}00671\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Derive\ categories\ from\ initial\ guesses.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00672}00672\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00673}00673\ \textcolor{stringliteral}{\ \ \ \ @param\ trends\ \ The\ base\ trend\ from\ which\ to\ derive}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00674}00674\ \textcolor{stringliteral}{\ \ \ \ @param\ newtrend\ \ The\ derived\ trends\ which\ categories\ still\ need\ to\ be\ determined}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00675}00675\ \textcolor{stringliteral}{\ \ \ \ @param\ CategoryWeights\ \ The\ original\ category\ weights\ used\ for\ base\ trends,\ which\ will\ derive\ to\ new\ trends}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00676}00676\ \textcolor{stringliteral}{\ \ \ \ @param\ Verbose\ \ Verbosity\ switch\ for\ debugging}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00677}00677\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00678}00678\ \textcolor{stringliteral}{\ \ \ \ @return\ the\ same\ dataframe\ as\ trends\ but\ with\ newtrends\ added\ and\ with\ derived\ categories"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00679}00679\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00680}00680\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00681}00681\ \ \ \ \ \ \ \ \ \ \ \ \ print(CategoryWeights)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00682}00682\ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Merging:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00683}00683\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ z\ \textcolor{keywordflow}{in}\ trends:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00684}00684\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(z,\ [i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ CategoryWeights\ \textcolor{keywordflow}{if}\ z\ \textcolor{keywordflow}{in}\ i[0]][0])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00685}00685\ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\_\_"{}}*32)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00686}00686\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(trends)\ <\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00687}00687\ \ \ \ \ \ \ \ \ \ \ \ \ cat\ =\ copy.deepcopy([i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ CategoryWeights\ \textcolor{keywordflow}{if}\ trends[0]\ \textcolor{keywordflow}{in}\ i[0]][0])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00688}00688\ \ \ \ \ \ \ \ \ \ \ \ \ cat[0]\ =\ newtrend}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00689}00689\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cat}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00690}00690\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00691}00691\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#print(CategoryWeights,\ trends)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00692}00692\ \ \ \ \ \ \ \ \ \ \ \ \ cat\ =\ [i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ CategoryWeights\ \textcolor{keywordflow}{if}\ trends[0]\ \textcolor{keywordflow}{in}\ i[0]][0]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00693}00693\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00694}00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(trends[0],\ cat)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00695}00695\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ z\ \textcolor{keywordflow}{in}\ trends[1:]:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00696}00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Addcat\ =\ [i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ CategoryWeights\ \textcolor{keywordflow}{if}\ z\ \textcolor{keywordflow}{in}\ i[0]][0]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00697}00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00698}00698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(z,\ cat)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00699}00699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cat\ =\ [(Addcat[i]\ +\ x)/2\ \textcolor{keywordflow}{if}\ i\ !=\ 0\ \textcolor{keywordflow}{else}\ x\ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ enumerate(cat)]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00700}00700\ \ \ \ \ \ \ \ \ \ \ \ \ cat[0]\ =\ newtrend}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00701}00701\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00702}00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\_\_"{}}*32)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00703}00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(cat,\ sum(cat[1:]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00704}00704\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cat}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00705}00705\ \ \ \ \ \textcolor{keywordflow}{except}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00706}00706\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Derriving\ categories\ failed\ for\ \{\}"{}}.format(newtrend))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00707}00707\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ trends}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00708}00708\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00709}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7ef6d46f126f51b82519230d6bcdc6c6}{00709}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7ef6d46f126f51b82519230d6bcdc6c6}{AnalysisDealer}}(data,\ analysis):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00710}00710\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Apply\ all\ user\ defined\ functions\ from\ analysis.py\ to\ data}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00711}00711\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00712}00712\ \textcolor{stringliteral}{\ \ \ \ @param\ data\ \ Standardized\ input\ (pandas)dataframe.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00713}00713\ \textcolor{stringliteral}{\ \ \ \ @param\ analysis\ \ a\ list\ of\ [[name:function],]\ of\ user\ defined\ functions}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00714}00714\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00715}00715\ \textcolor{stringliteral}{\ \ \ \ @return\ data\ the\ transformed\ dataframe"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00716}00716\ \ \ \ \ \textcolor{keyword}{global}\ Log}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00717}00717\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00718}00718\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00719}00719\ \ \ \ \ \textcolor{keywordflow}{for}\ fcn\ \textcolor{keywordflow}{in}\ analysis:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00720}00720\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ \{\}"{}}.format(str(fcn[0])))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00721}00721\ \ \ \ \ \ \ \ \ data,\ Log,\ columns\ =\ fcn[1](data,\ Log)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00722}00722\ \ \ \ \ \textcolor{keywordflow}{return}\ data}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00723}00723\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00724}00724\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00725}00725\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00726}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a08c7d88782948ad52fd15ce2a8f2c4e7}{00726}}\ Log\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00727}00727\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00728}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aac0a9fe24cf205f76bb6ecf942026d71}{00728}}\ Headers\ =\ \textcolor{stringliteral}{"{}\#\ Table\ Of\ Content\(\backslash\)n\ "{}}\ +\ \textcolor{stringliteral}{"{}\_\_"{}}*100}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00729}00729\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00730}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ab00944552a5ef41ef0c18de744dd8207}{00730}}\ Verbosity\ =\ 1}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00731}00731\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00732}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a27382ab85bace0f5f0b43565483e2a2d}{00732}}\ dhw1\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00733}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a61e9f31de2a7a53e242d5cac8b39b90f}{00733}}\ dhw2\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00734}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a170197343d54c8250fcfb28ca8726402}{00734}}\ dhw3\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00735}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a130853d34846d76517f0d3c453a9ccbf}{00735}}\ dhw4\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00736}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a00334d0bfa77eafbfe83e416f007c151}{00736}}\ dhw5\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00737}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8ba8f28922d95285d2958000600dd4b2}{00737}}\ dhw6\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00738}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a183e9d6295d6c0ba3e8aeb95c61ad6c2}{00738}}\ dhw7\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00739}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7440784fcfdc6412ad75245561a74e90}{00739}}\ dhw8\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00740}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6784e1c334dfceb8f017667c0b0f6a3e}{00740}}\ index\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00741}00741\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(24):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00742}00742\ \ \ \ \ print()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00743}00743\ \ \ \ \ dhw1.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,1))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00744}00744\ \ \ \ \ dhw2.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,2))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00745}00745\ \ \ \ \ dhw3.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,3))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00746}00746\ \ \ \ \ dhw4.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,4))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00747}00747\ \ \ \ \ dhw4.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,5))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00748}00748\ \ \ \ \ dhw4.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,6))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00749}00749\ \ \ \ \ dhw4.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,7))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00750}00750\ \ \ \ \ dhw4.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a926eda992ad3b4e6f48b3e9b32965c60}{Stochastic\_Usage}}(i,8))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00751}00751\ \ \ \ \ index.append(i)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00752}00752\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00753}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acdaf61fa74e7d327aa0e9476707542fe}{00753}}\ dhw\ =\ [[index,dhw1],\ [index,dhw2],\ [index,dhw3],\ [index,\ dhw4],\ [index,\ dhw5],\ [index,\ dhw6],\ [index,\ dhw7],\ [index,\ dhw8]]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00754}00754\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00755}00755\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00756}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a100f97803b72565daedee80e34bbb7f0}{00756}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a100f97803b72565daedee80e34bbb7f0}{ProcessData}}():}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00757}00757\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!\ Example\ main\ to\ run\ if\ file\ is\ not\ being\ imported}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00758}00758\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00759}00759\ \ \ \ \ \textcolor{keyword}{global}\ Log}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00760}00760\ \ \ \ \ \textcolor{keyword}{global}\ Headers}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00761}00761\ \ \ \ \ \textcolor{keyword}{global}\ CategoryWeights}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00762}00762\ \ \ \ \ CategoryUnits\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00763}00763\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00764}00764\ \ \ \ \ config\ =\ configparser.ConfigParser()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00765}00765\ \ \ \ \ config.optionxform\ =\ \textcolor{keyword}{lambda}\ option:\ option}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00766}00766\ \ \ \ \ result\_list\ =\ config.read(args.filename)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00767}00767\ \ \ \ \ Files\ =\ os.listdir()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00768}00768\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00769}00769\ \ \ \ \ dataformat\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}format"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00770}00770\ \ \ \ \ dataYear\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}dataYear"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00771}00771\ \ \ \ \ \textcolor{keywordflow}{if}\ dataformat\ ==\ \textcolor{stringliteral}{"{}Excel"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00772}00772\ \ \ \ \ \ \ \ \ metadata\ =\ pd.read\_excel(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}Filename"{}}],\ sheet\_name\ =\ \textcolor{stringliteral}{"{}Informatie"{}},\ index\_col=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00773}00773\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00774}00774\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Metadata"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00775}00775\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(metadata.to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00776}00776\ \ \ \ \ Inhabitants\ =\ int(config[\textcolor{stringliteral}{"{}locatie"{}}][\textcolor{stringliteral}{"{}aantal\_bewoners"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00777}00777\ \ \ \ \ Instance\ =\ config[\textcolor{stringliteral}{"{}model"{}}][\textcolor{stringliteral}{"{}instance"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00778}00778\ \ \ \ \ transform\ =\ config[\textcolor{stringliteral}{"{}transform"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00779}00779\ \ \ \ \ modules\ =\ config[\textcolor{stringliteral}{"{}modules"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00780}00780\ \ \ \ \ TransformDataSelection\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00781}00781\ \ \ \ \ Transform\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00782}00782\ \ \ \ \ categoryweights\ =\ config[\textcolor{stringliteral}{"{}CategoryWeights"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00783}00783\ \ \ \ \ categoryunits\ =\ config[\textcolor{stringliteral}{"{}CategoryUnits"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00784}00784\ \ \ \ \ timeDivisionArray\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00785}00785\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ categoryweights:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00786}00786\ \ \ \ \ \ \ \ \ frame\ =\ [i]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ [frame.append(float(j))\ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ categoryweights[i].split(\textcolor{stringliteral}{"{},"{}})]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ CategoryWeights.append(frame)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00789}00789\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00790}00790\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ categoryunits:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00791}00791\ \ \ \ \ \ \ \ \ frame\ =\ [i]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ [frame.append(j)\ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ categoryunits[i].split(\textcolor{stringliteral}{"{},"{}})]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00793}00793\ \ \ \ \ \ \ \ \ CategoryUnits.append(frame)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00794}00794\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00795}00795\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}"{}}.format(CategoryUnits),3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00796}00796\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}"{}}.format(CategoryWeights),3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00797}00797\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00798}00798\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00799}00799\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ transform:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00800}00800\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}\ \{\}"{}}.format(i,\ transform[i]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00801}00801\ \ \ \ \ \ \ \ \ TransformDataSelection.append(transform[i])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00802}00802\ \ \ \ \ \ \ \ \ Transform.append(i)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00803}00803\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00804}00804\ \ \ \ \ \textcolor{keywordflow}{if}\ dataformat\ ==\ \textcolor{stringliteral}{"{}Excel"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00805}00805\ \ \ \ \ \ \ \ \ data\ =\ pd.read\_excel(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}Filename"{}}],\ sheet\_name\ =\ \textcolor{stringliteral}{"{}Data"{}},\ header=[0,1])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00806}00806\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data[[\textcolor{stringliteral}{"{}Date"{}},\textcolor{stringliteral}{"{}Time"{}}]].apply(\textcolor{keyword}{lambda}\ x:\ str(x[0])[:10]+\textcolor{stringliteral}{"{}\ "{}}+str(x[1]),\ axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ pd.to\_datetime(data.DateTime,\ format=\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d\ \%H:\%M:\%S"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Datetime"{}}]\ =\ data.loc[:,\ \textcolor{stringliteral}{"{}DateTime"{}}]\textcolor{comment}{\#data[["{}DateTime"{}]]}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00809}00809\ \ \ \ \ \ \ \ \ data\ =\ data.drop([\textcolor{stringliteral}{"{}Date"{}},\textcolor{stringliteral}{"{}Time"{}}],\ axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00810}00810\ \ \ \ \ \ \ \ \ data\ =\ data.set\_index(\textcolor{stringliteral}{"{}DateTime"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00811}00811\ \ \ \ \ \textcolor{keywordflow}{if}\ dataformat\ ==\ \textcolor{stringliteral}{"{}csv"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00812}00812\ \ \ \ \ \ \ \ \ data\ =\ pd.read\_csv(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}Filename"{}}]).fillna(\textcolor{stringliteral}{"{}None"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00813}00813\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data[[\textcolor{stringliteral}{"{}Date"{}},\textcolor{stringliteral}{"{}Time"{}}]].apply(\textcolor{keyword}{lambda}\ x:\ str(x[0])[:10]+\textcolor{stringliteral}{"{}\ "{}}+str(x[1]),\ axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00814}00814\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ pd.to\_datetime(data.DateTime,\ format=\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d\ \%H:\%M:\%S"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00815}00815\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Datetime"{}}]\ =\ data.loc[:,\ \textcolor{stringliteral}{"{}DateTime"{}}]\textcolor{comment}{\#data[["{}DateTime"{}]]}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00816}00816\ \ \ \ \ \ \ \ \ data\ =\ data.drop([\textcolor{stringliteral}{"{}Date"{}},\textcolor{stringliteral}{"{}Time"{}}],\ axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00817}00817\ \ \ \ \ \ \ \ \ data\ =\ data.set\_index(\textcolor{stringliteral}{"{}DateTime"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00818}00818\ \ \ \ \ \textcolor{keywordflow}{elif}\ dataformat\ ==\ \textcolor{stringliteral}{"{}linear"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00819}00819\ \ \ \ \ \ \ \ \ lineardata\ =\ pd.read\_csv(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}Filename"{}}]).fillna(\textcolor{stringliteral}{"{}None"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00820}00820\ \ \ \ \ \ \ \ \ lineardata[\textcolor{stringliteral}{"{}ID\_Name\_Property"{}}]\ =\ lineardata[\textcolor{stringliteral}{"{}Productname"{}}]\ +\ \textcolor{stringliteral}{"{}\_"{}}\ +\ lineardata[\textcolor{stringliteral}{"{}Propertyname"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00821}00821\ \ \ \ \ \ \ \ \ lineardata[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ pd.to\_datetime(lineardata.Timestamp,\ format=\textcolor{stringliteral}{"{}mixed"{}})\textcolor{comment}{\#\%Y\%m\%d\ \%H:\%M:\%S.\%f"{})}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00822}00822\ \ \ \ \ \ \ \ \ data\ =\ lineardata.drop([\textcolor{stringliteral}{"{}Timestamp"{}},\textcolor{stringliteral}{"{}Username"{}},\textcolor{stringliteral}{"{}ProductID"{}},\textcolor{stringliteral}{"{}Propertyname"{}},\textcolor{stringliteral}{"{}Productname"{}}],axis=1).set\_index(\textcolor{stringliteral}{"{}DateTime"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00823}00823\ \ \ \ \ \ \ \ \ data\ =\ pd.pivot\_table(data,\ index=\textcolor{stringliteral}{"{}DateTime"{}},columns=\textcolor{stringliteral}{"{}ID\_Name\_Property"{}},\ values=\textcolor{stringliteral}{"{}Value"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00824}00824\ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}DateTime"{}},\textcolor{stringliteral}{"{}YYYY-\/MM-\/DD\ HH:mm:ss+HH:mm"{}},\textcolor{stringliteral}{"{}gebouwdata"{}},\textcolor{stringliteral}{"{}Timezone\ DST\ aware\ datetime,\ laaatste\ HH:mm\ is\ afwijking\ van\ GMT"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00825}00825\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00826}00826\ \ \ \ \ \textcolor{keywordflow}{if}\ int(dataYear)\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00827}00827\ \ \ \ \ \ \ \ \ data\ =\ data.loc[(data.index.year\ ==\ datime.datetime.strptime(dataYear,\textcolor{stringliteral}{"{}\%Y"{}}).year)]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00828}00828\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00829}00829\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}dataCoverage"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00830}00830\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00831}00831\ \ \ \ \ \ \ \ \ data\ =\ data.resample(\textcolor{stringliteral}{"{}1d"{}}).mean()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00832}00832\ \ \ \ \ \ \ \ \ data.to\_csv(\textcolor{stringliteral}{"{}Raw\_Export\_\{\}.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00833}00833\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Raw\_Data"{}},\ data,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00834}00834\ \ \ \ \ \ \ \ \ dc\ =\ sns.heatmap(data,\ cmap=[\textcolor{stringliteral}{'r'},\textcolor{stringliteral}{'y'},\textcolor{stringliteral}{'g'}],\ annot=\textcolor{keyword}{True},\ fmt=\textcolor{stringliteral}{'.0f'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00835}00835\ \ \ \ \ \ \ \ \ dc.set\_yticklabels(dc.get\_yticklabels(),\ rotation=0,\ fontsize=8)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00836}00836\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}DataCoverage\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00837}00837\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data,\ Log,\ Instance}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00838}00838\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00839}00839\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00840}00840\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Index"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00841}00841\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.index)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00842}00842\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00843}00843\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00844}00844\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Old\ Columns"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00845}00845\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.columns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00846}00846\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00847}00847\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Original\ Data"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00848}00848\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00849}00849\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00850}00850\ \ \ \ \ RenamedColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}RenamedColumns"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00851}00851\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(RenamedColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00852}00852\ \ \ \ \ \textcolor{keywordflow}{if}\ RenamedColumns[0]\ ==\ \textcolor{stringliteral}{"{}help"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00853}00853\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ data.columns:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00854}00854\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(i)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00855}00855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data,\ Log,\ Instance}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00856}00856\ \ \ \ \ \textcolor{keywordflow}{elif}\ RenamedColumns[0]\ ==\ \textcolor{stringliteral}{"{}transform"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00857}00857\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(TransformDataSelection)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00858}00858\ \ \ \ \ \ \ \ \ data\ =\ data[TransformDataSelection]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00859}00859\ \ \ \ \ \ \ \ \ data.columns\ =\ Transform}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00860}00860\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00861}00861\ \ \ \ \ \ \ \ \ data.columns\ =\ RenamedColumns}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00862}00862\ \ \ \ \ data[\textcolor{stringliteral}{"{}hour"{}}]\ =\ data.index.hour}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00863}00863\ \ \ \ \ data[\textcolor{stringliteral}{"{}day"{}}]\ =\ data.index.dayofyear}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00864}00864\ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}day"{}},\textcolor{stringliteral}{"{}uren"{}},\textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}n.v.t.\ negeer\ deze\ kolom,\ niet\ timezone\ DST\ aware"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00865}00865\ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}hour"{}},\textcolor{stringliteral}{"{}dagen"{}},\textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}n.v.t.\ negeer\ deze\ kolom,\ niet\ timezone\ DST\ aware"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00866}00866\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00867}00867\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ New\ Columns"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00868}00868\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.columns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00869}00869\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00870}00870\ \ \ \ \ Ts\ =\ [x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ data.columns\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}T"{}}\ \textcolor{keywordflow}{in}\ x]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00871}00871\ \ \ \ \ Es\ =\ [x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ data.columns\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}E"{}}\ \textcolor{keywordflow}{in}\ x]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00872}00872\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00873}00873\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}EtoP"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00874}00874\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00875}00875\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00876}00876\ \ \ \ \ \ \ \ \ Ps\ =\ [x.replace(\textcolor{stringliteral}{"{}E"{}},\textcolor{stringliteral}{"{}P"{}})\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ Es]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00877}00877\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ x\ \textcolor{keywordflow}{in}\ enumerate(Ps):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00878}00878\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([Es[i]],x,copy.deepcopy(CategoryWeights)))\ \textcolor{comment}{\#\ Copy\ E\ weights\ for\ Ps}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00879}00879\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryUnits.append([x,\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}\{\}"{}}.format(categoryunits[Es[i]].split(\textcolor{stringliteral}{"{},"{}})[-\/1].replace(\textcolor{stringliteral}{"{}energie"{}},\textcolor{stringliteral}{"{}vermogen"{}}))])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00880}00880\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00881}00881\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00882}00882\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Isolating\ E\ and\ T\ columns\ and\ generating\ P\ names"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00883}00883\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(Ts)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00884}00884\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(Es)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00885}00885\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00886}00886\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}EtoP"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00887}00887\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00888}00888\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00889}00889\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(Ps)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00890}00890\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00891}00891\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00892}00892\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}SanityCheckE"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00893}00893\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00894}00894\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00895}00895\ \ \ \ \ \ \ \ \ data[Es]\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6e2b3c22d32fdf80f2d7cb6651fb2982}{RepairCumulatives}}(data[Es])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00896}00896\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}DHWUserProfile"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00897}00897\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00898}00898\ \ \ \ \ \ \ \ \ \ \ \ \ data[[\textcolor{stringliteral}{"{}Vdhw"{}}]]\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6e2b3c22d32fdf80f2d7cb6651fb2982}{RepairCumulatives}}(data[[\textcolor{stringliteral}{"{}Vdhw"{}}]])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00899}00899\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00900}00900\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00901}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a511ae0b1c13f95e5f08f1a0dd3da3d93}{00901}}\ \ \ \ \ data\ =\ data.resample(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}ResampleTime"{}}]).mean().interpolate()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00902}00902\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00903}00903\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00904}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abe695cc0f2f6f75ea45b0fd1b2499931}{00904}}\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}EtoP"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00905}00905\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00906}00906\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00907}00907\ \ \ \ \ \ \ \ \ data[Ps]\ =\ data[Es].diff().bfill()\ \textcolor{comment}{\#\ \ energy\ to\ power}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00908}00908\ \ \ \ \ \ \ \ \ timeDivisionArray.append(Es)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00909}00909\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00910}00910\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00911}00911\ \ \ \ \ data[\textcolor{stringliteral}{"{}dt"{}}]\ =\ pd.to\_numeric(data.index.to\_series().diff().bfill())/(1000*1000*1000)\ \textcolor{comment}{\#\ \ dt}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00912}00912\ \ \ \ \ CategoryWeights.append([\textcolor{stringliteral}{"{}dt"{}},0,0,0,1,0,0])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00913}00913\ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}dt"{}},\textcolor{stringliteral}{"{}s"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}delta\ tijd,\ verschil\ tussen\ opvolgende\ tijdstappen"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00914}00914\ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data.index}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00915}00915\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00916}00916\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00917}00917\ \ \ \ \ \textcolor{keywordflow}{if}\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}KNMI"{}}]\ !=\ \textcolor{stringliteral}{"{}False"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00918}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8185d012ca9fccb0e82894d6268051e1}{00918}}\ \ \ \ \ \ \ \ \ T\_Columns\ =\ [\textcolor{stringliteral}{"{}\ \ \ \ Q"{}},\textcolor{stringliteral}{"{}\ \ \ RH"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00919}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a411b4055c15d54c130bb7d43cba668b3}{00919}}\ \ \ \ \ \ \ \ \ ScaleArray\ =\ [100*100.,1.0]\ \textcolor{comment}{\#\ scale\ J/cm2\ to\ J/m2\ and\ rain\ in\ 0.1mm\ to\ rain\ in\ mm}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00920}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a68664b85ab66ee545e09b003f570d965}{00920}}\ \ \ \ \ \ \ \ \ RevertArray\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00921}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a847c4ee87a1c07fb74df90049dbf53dc}{00921}}\ \ \ \ \ \ \ \ \ path\ =\ os.path.abspath(analysis.\_\_file\_\_)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00922}00922\ \ \ \ \ \ \ \ \ path\ =\ \textcolor{stringliteral}{"{}"{}}.join([\textcolor{stringliteral}{"{}/\{\}"{}}.format(i)\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ path.split(\textcolor{stringliteral}{"{}/"{}})[:-\/1]])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00923}00923\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}KNMI"{}}]\ ==\ \textcolor{stringliteral}{"{}True"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00924}00924\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00925}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a4bfcaea18ca8d12a4c1f3316d3c9a2b2}{00925}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a748b6e4a23141150eb7eea30e37adc56}{KNMI\_Resampler}}(path+\textcolor{stringliteral}{"{}/uurgeg\_290\_2011-\/2020.txt"{}},T\_Columns,ScaleArray,header=28,\ Interval\ =\ \textcolor{stringliteral}{"{}30min"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00926}00926\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ KNMI.T[data.index].T}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00927}00927\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ KeyError:\ \ \textcolor{comment}{\#Attempt\ a\ newer\ KNMI\ Data\ file}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00928}00928\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a748b6e4a23141150eb7eea30e37adc56}{KNMI\_Resampler}}(path+\textcolor{stringliteral}{"{}/uurgeg\_290\_2021-\/2025.txt"{}},T\_Columns,ScaleArray,header=28,\ Interval\ =\ \textcolor{stringliteral}{"{}30min"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00929}00929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ KNMI.T[data.index].T}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00930}00930\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00931}00931\ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a748b6e4a23141150eb7eea30e37adc56}{KNMI\_Resampler}}(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}KNMI"{}}],T\_Columns,ScaleArray,header=28,\ Interval\ =\ \textcolor{stringliteral}{"{}30min"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00932}00932\ \ \ \ \ \ \ \ \ \ \ \ \ KNMI\ =\ KNMI.T[data.index].T}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00933}00933\ \ \ \ \ \ \ \ \ data[[\textcolor{stringliteral}{"{}T-\/KNMI"{}},\textcolor{stringliteral}{"{}P-\/sun"{}},\textcolor{stringliteral}{"{}Dir"{}},\textcolor{stringliteral}{"{}Wspd"{}},\textcolor{stringliteral}{"{}Rf"{}}]]\ =\ KNMI}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00934}00934\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}T-\/KNMI"{}},\textcolor{stringliteral}{"{}P-\/sun"{}},\textcolor{stringliteral}{"{}Dir"{}},\textcolor{stringliteral}{"{}Wspd"{}},\textcolor{stringliteral}{"{}Rf"{}}]:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00935}00935\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}Tamb"{}}],i,copy.deepcopy(CategoryWeights)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00936}00936\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}T-\/KNMI"{}},\textcolor{stringliteral}{"{}°C"{}},\ \textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}Tamb\ wordt\ vervangen\ door\ Tknmi\ wanneer\ niet\ realistisch\ is"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00937}00937\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}P-\/sun"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}P-\/sun\ wordt\ gebruikt\ voor\ Ga\ factor\ in\ RC\ en\ PVEfficiency"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00938}00938\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Dir"{}},\textcolor{stringliteral}{"{}°"{}},\ \textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}wordt\ niet\ gebruikt"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00939}00939\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Wspd"{}},\textcolor{stringliteral}{"{}m/s"{}},\ \textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}wordt\ niet\ gebruikt"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00940}00940\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Rf"{}},\textcolor{stringliteral}{"{}mm/m2"{}},\ \textcolor{stringliteral}{"{}KNMI"{}},\textcolor{stringliteral}{"{}wordt\ niet\ gebruikt"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00941}00941\ \ \ \ \ \ \ \ \ timeDivisionArray.append(\textcolor{stringliteral}{"{}Rf"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00942}00942\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00943}00943\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Imported\ KNMI\ data\ for\ irradiation,\ wind,\ direction,\ temperature,\ rain"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00944}00944\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(KNMI.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00945}00945\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}KNMI\_Data\_import"{}},\ KNMI,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00946}00946\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00947}00947\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}SanityCheckTamb"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00948}00948\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00949}00949\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00950}00950\ \ \ \ \ \ \ \ \ data\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad2f79aa6a576fe089b1c390117f1f7d5}{SimilarityCheck}}(data,\ \textcolor{stringliteral}{"{}Tamb"{}},\ \textcolor{stringliteral}{"{}T-\/KNMI"{}},\ ULimit\ =\ 40.0,\ LLimit\ =\ -\/15.0,\ ROCLimit\ =\ 30.0/(12.0*60*60),\ VERBOSE\ =\ 10)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00951}00951\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}data\_with\_knmi"{}},\ data,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00952}00952\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00953}00953\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}SanityCheckThese"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00954}00954\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00955}00955\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00956}00956\ \ \ \ \ \ \ \ \ data\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad2f79aa6a576fe089b1c390117f1f7d5}{SimilarityCheck}}(data,\ \textcolor{stringliteral}{"{}Tamb"{}},\ \textcolor{stringliteral}{"{}T-\/KNMI"{}},\ ULimit\ =\ 40.0,\ LLimit\ =\ -\/15.0,\ ROCLimit\ =\ 30.0/(12.0*60*60),\ VERBOSE\ =\ 10)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00957}00957\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}data\_with\_knmi"{}},\ data,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00958}00958\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00959}00959\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00960}00960\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Repaired\ cumulative\ trends,\ calculated\ power,\ calculted\ delta\ time"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00961}00961\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00962}00962\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Fixed\_Data"{}},\ data,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00963}00963\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00964}00964\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00965}00965\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00966}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa94786cc17367592a0c032a3daf38741}{00966}}\ \ \ \ \ Function\_List\ =\ getmembers(analysis,\ isfunction)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00967}00967\ \ \ \ \ \textcolor{keywordflow}{if}\ len(Function\_List)\ >\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00968}00968\ \ \ \ \ \ \ \ \ data\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7ef6d46f126f51b82519230d6bcdc6c6}{AnalysisDealer}}(data,Function\_List)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00969}00969\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00970}00970\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00971}00971\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00972}00972\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}CalculateTavg"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00973}00973\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00974}00974\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00975}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a5c87bcfcfb9cb9eb7a1f8a3a13b3b00d}{00975}}\ \ \ \ \ \ \ \ \ Indoor\_temperatures\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}IndoorTemperatures"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00976}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_accc088009d44c521706aa98d6387ee21}{00976}}\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Tavg"{}}]\ =\ data[Indoor\_temperatures].sum(axis=1)/3.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00977}00977\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Tavg"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00978}00978\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00979}00979\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Indoor\ temperatures\ compiled\ to\ average"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00980}00980\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(Indoor\_temperatures)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00981}00981\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(Indoor\_temperatures,\textcolor{stringliteral}{"{}Tavg"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00982}00982\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}dT"{}}]\ =\ data[\textcolor{stringliteral}{"{}Tavg"{}}]\ -\/\ data[\textcolor{stringliteral}{"{}Tamb"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00983}00983\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}Tamb"{}}],\textcolor{stringliteral}{"{}dT"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00984}00984\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}°C"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}(Tlv+Tsk+Tzo)/3"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00985}00985\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}dT"{}},\textcolor{stringliteral}{"{}°C"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}Tavg-\/Tamb"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00986}00986\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00987}00987\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}DegreeDays"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00988}00988\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00989}00989\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00990}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2e9b4bbff13e0c881b9a747dec7b20a9}{00990}}\ \ \ \ \ \ \ \ \ degreeDays\_indoor\ =\ data[\textcolor{stringliteral}{"{}Tavg"{}}].resample(\textcolor{stringliteral}{"{}1d"{}}).mean().interpolate().apply(\textcolor{keyword}{lambda}\ x:\ 18\ -\/\ x\ \textcolor{keywordflow}{if}\ x\ >\ 18\ \textcolor{keywordflow}{else}\ 0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00991}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a41cf01b411fe50939ca9c26a8ad81c99}{00991}}\ \ \ \ \ \ \ \ \ ddi\ =\ degreeDays\_indoor.sum()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00992}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ae441bcf7e0480338caab89bdc180af22}{00992}}\ \ \ \ \ \ \ \ \ degreeDays\_outdoor\ =\ \ data[\textcolor{stringliteral}{"{}Tamb"{}}].resample(\textcolor{stringliteral}{"{}1d"{}}).mean().interpolate().apply(\textcolor{keyword}{lambda}\ x:\ 18\ -\/\ x\ \textcolor{keywordflow}{if}\ x\ >\ 18\ \textcolor{keywordflow}{else}\ 0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00993}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_af0d8c3ce7a6068f4f1c883a073f8d775}{00993}}\ \ \ \ \ \ \ \ \ ddo\ =\ degreeDays\_outdoor.sum()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00994}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a11bba9651ef9a01a4969115d2574e7dc}{00994}}\ \ \ \ \ \ \ \ \ degreeDays\_delta\_annemarie\ =\ (data[\textcolor{stringliteral}{"{}Tavg"{}}]\ -\/\ data[\textcolor{stringliteral}{"{}Tamb"{}}]).resample(\textcolor{stringliteral}{"{}1d"{}}).mean().interpolate()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00995}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a382263fa3fc43a688a91c2649595e9da}{00995}}\ \ \ \ \ \ \ \ \ dda\ =\ degreeDays\_delta\_annemarie.sum()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00996}00996\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00997}00997\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}EventDetection"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00998}00998\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l00999}00999\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01000}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abb223c68503d29942cdc947a26c305ca}{01000}}\ \ \ \ \ \ \ \ \ EventStudy\ =\ \mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor}{Eventor}}(data.loc[:,\ data.columns\ !=\ \textcolor{stringliteral}{'DateTime'}],\ VERBOSE=5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01001}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7ef3fbbbdc02e90473fcde6465ac5d41}{01001}}\ \ \ \ \ \ \ \ \ GenericConfig\ =\ config[\textcolor{stringliteral}{"{}eventdetection"{}}][\textcolor{stringliteral}{"{}GenericEvents"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01002}01002\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ GenericConfig[3]\ ==\ \textcolor{stringliteral}{"{}None"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01003}01003\ \ \ \ \ \ \ \ \ \ \ \ \ GenericConfig[3]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01004}01004\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01005}01005\ \ \ \ \ \ \ \ \ \ \ \ \ GenericConfig[3]\ =\ GenericConfig[3].split(\textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01006}01006\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[\textcolor{stringliteral}{"{}GenericEvents"{}}]\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01007}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2236b72f560276e1c4ca3409b8b3ecb5}{01007}}\ \ \ \ \ \ \ \ \ \ \ \ \ EventStudy.GenericEvents(shortWindow\ =\ int(GenericConfig[0]),\ longWindow\ =\ int(GenericConfig[1]),\ sd\ =float(GenericConfig[2]),\ columns=GenericConfig[3])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01008}01008\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#EventStudy.EventCategorizer(CategoryWeights)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01009}01009\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01010}01010\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}ThermalBalance"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01011}01011\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01012}01012\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01013}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0f4f3d3ce8dd876d85863080bcaaafad}{01013}}\ \ \ \ \ \ \ \ \ ThermalColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}ThermalColumns"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01014}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6362dfd499977558c64a97fbd23e4cbf}{01014}}\ \ \ \ \ \ \ \ \ gas\ =\ int(config[\textcolor{stringliteral}{"{}schil"{}}][\textcolor{stringliteral}{"{}gas"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01015}01015\ \ \ \ \ \ \ \ \ data\ =\ data.resample(\textcolor{stringliteral}{"{}30T"{}}).mean().interpolate()\textcolor{comment}{\#.diff()\#.plot()\#.set\_index("{}dT"{})[Es].plot()}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01016}01016\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}HeatInput"{}}]\ =\ data[ThermalColumns].diff().sum(axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01017}01017\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(ThermalColumns,\textcolor{stringliteral}{"{}HeatInput"{}},CategoryWeights,\ Verbose=3))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01018}01018\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data.index}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01019}01019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ gas\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01020}01020\ \ \ \ \ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}HeatInput"{}}]\ =\ data[\textcolor{stringliteral}{"{}HeatInput"{}}]*9.77}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01021}01021\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}HeatInput"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}Gas*9.77\ [m3]\ -\/>\ [kW]"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01022}01022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01023}01023\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}HeatInput"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}SOM(Ecv1h,Ecv2h)"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01024}01024\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01025}01025\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01026}01026\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01027}01027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Compiled\ thermal\ balance"{}},3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01028}01028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(ThermalColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01029}01029\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01030}01030\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}OpeningState"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01031}01031\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01032}01032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01033}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a67085f4aaac82ed4f9881c0a4c0430cb}{01033}}\ \ \ \ \ \ \ \ \ dwstateColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}DoorWindowStates"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01034}01034\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}UAct"{}}]\ =\ data[dwstateColumns].sum(axis=1)/len(dwstateColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01035}01035\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(dwstateColumns,\textcolor{stringliteral}{"{}UAct"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01036}01036\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}UAct"{}},\textcolor{stringliteral}{"{}n"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}SOM(Sbd,Sra,Std)/3\ dimensieloos"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01037}01037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01038}01038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Normalized\ door\ window\ states"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01039}01039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(dwstateColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01040}01040\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01041}01041\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}SolarPanelAnalysis"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01042}01042\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01043}01043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01044}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a78172c433ac0ffc160e4cb8fe4e0d6fc}{01044}}\ \ \ \ \ \ \ \ \ PVColumn\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}PVPanels"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01045}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a653f5b94d8d977dedac73b3bf4024990}{01045}}\ \ \ \ \ \ \ \ \ PVArea\ =\ float(config[\textcolor{stringliteral}{"{}schil"{}}][\textcolor{stringliteral}{"{}pvoppervlak"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01046}01046\ \ \ \ \ \ \ \ \ print(data[[\textcolor{stringliteral}{"{}P-\/sun"{}}]])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01047}01047\ \ \ \ \ \ \ \ \ print(PVColumn)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01048}01048\ \ \ \ \ \ \ \ \ print(data[PVColumn])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01049}01049\ \ \ \ \ \ \ \ \ print(len(data[PVColumn]),len(data[[\textcolor{stringliteral}{"{}P-\/sun"{}}]]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01050}01050\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}PVEfficiency"{}}]\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aeef4654bf4c070a33b2129de4c54741f}{COP}}(data[PVColumn[0]]*1000,\ data[\textcolor{stringliteral}{"{}P-\/sun"{}}]*PVArea).fillna(0)\textcolor{comment}{\#\ can\ be\ re-\/used\ here..\ basically\ simple\ efficiency\ calculation\ with\ error\ checking}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01051}01051\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#data["{}COP"{}]\ =\ COP(data[HPTColumns].sum(axis=1),\ data[HPEColumns].sum(axis=1)).fillna(0.0)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01052}01052\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(PVColumn,\textcolor{stringliteral}{"{}PVEfficiency"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01053}01053\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}PVEfficiency"{}},\textcolor{stringliteral}{"{}\%"{}},\ \textcolor{stringliteral}{"{}afgeleid"{}},\textcolor{stringliteral}{"{}P-\/sun\ en\ Ga\ factor\ voor\ PVEfficiency"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01054}01054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01055}01055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Solar\ panel\ performance"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01056}01056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(PVColumn)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01057}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ac805ba3d188465f3e0bfcd2552cf16cb}{01057}}\ \ \ \ \ \ \ \ \ PVDC\ =\ data[[\textcolor{stringliteral}{"{}PVEfficiency"{}}]].resample(\textcolor{stringliteral}{"{}1h"{}}).mean().interpolate().sort\_values(\textcolor{stringliteral}{"{}PVEfficiency"{}},ascending=\textcolor{keyword}{False}).reset\_index(drop=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01058}01058\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01059}01059\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01060}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ac5fa4cdab45a2a40e1c0fdcd5df3675d}{01060}}\ \ \ \ \ \ \ \ \ PVDC.plot(legend=\textcolor{keyword}{True},\ lw=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01061}01061\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Power\_Duration\_Curve\_PV\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01062}01062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![Power\_Duration\_Curve\_PV](Power\_Duration\_Curve\_PV\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01063}01063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data[[\textcolor{stringliteral}{"{}PVEfficiency"{}},\textcolor{stringliteral}{"{}P-\/sun"{}}]+PVColumn].describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01064}01064\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01065}01065\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}EnergySignatureMethod"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01066}01066\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01067}01067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01068}01068\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01069}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ac51b57a703ba1c5869228690c93e1701}{01069}}\ \ \ \ \ \ \ \ \ X\ =\ data[[\textcolor{stringliteral}{"{}dT"{}}]].interpolate().bfill().ffill()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01070}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2fb1c5cf58867b5bbc9a1b145a86f3a0}{01070}}\ \ \ \ \ \ \ \ \ y\ =\ data[[\textcolor{stringliteral}{"{}HeatInput"{}}]]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01071}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a02b27bc6080387afdccdfcaaa7e20afd}{01071}}\ \ \ \ \ \ \ \ \ regressor\ =\ LinearRegression()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01072}01072\ \ \ \ \ \ \ \ \ regressor.fit(X,\ y)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01073}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a6567d292f257b0b28cdf1bb56f568312}{01073}}\ \ \ \ \ \ \ \ \ y\_pred\ =\ regressor.predict(X)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01074}01074\ \ \ \ \ \ \ \ \ plt.rcParams[\textcolor{stringliteral}{'figure.figsize'}]\ =\ 8.,\ 4.}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01075}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a37dbdc30935031c05304482e1be89d8f}{01075}}\ \ \ \ \ \ \ \ \ plt.scatter(X,\ y,\ color\ =\ \textcolor{stringliteral}{'red'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01076}01076\ \ \ \ \ \ \ \ \ plt.plot(X,\ regressor.predict(X),\ color\ =\ \textcolor{stringliteral}{'blue'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01077}01077\ \ \ \ \ \ \ \ \ plt.title(\textcolor{stringliteral}{'Thermal\ Energy\ Signaturen(Pcv1h,\ Pcv0h)'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01078}01078\ \ \ \ \ \ \ \ \ plt.xlabel(\textcolor{stringliteral}{'Delta\ T\ [K]\ (Tin\ -\/\ Tavg)'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01079}01079\ \ \ \ \ \ \ \ \ plt.ylabel(\textcolor{stringliteral}{'Power\ [kW]'})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01080}01080\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Energy\_signature\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01081}01081\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01082}01082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01083}01083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Average\ method\ Heat\ loss\ coefficient"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01084}01084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}The\ HLC\ (Heat\ loss\ coefficient,\ kW/K)\ is\ shown\ below.\ \(\backslash\)n\ *\ The\ plot\ shows\ all\ datapoints,\ \(\backslash\)n\ *\ the\ blue\ line\ denotes\ a\ linear\ interpolation.\ \(\backslash\)n\ *\ The\ slope\ is\ the\ HLC\ \(\backslash\)n\ *\ heat\ from\ occupants\ is\ not\ available\ \(\backslash\)n\ *\ heat\ from\ internal\ dissipation\ is\ not\ added"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01085}01085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(regressor.coef\_[0][0]\ ,1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01086}01086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![energy\ Signature](Energy\_signature\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01087}01087\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01088}01088\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}RCNetworkMethod"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01089}01089\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01090}01090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01091}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a12152b2cffe15a1d5fe0a13c0d37dd2d}{01091}}\ \ \ \ \ \ \ \ \ lambdaMap\ =\ \{\textcolor{stringliteral}{"{}Qtr"{}}:\ [\textcolor{stringliteral}{"{}Tamb"{}},\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}\$U"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01092}01092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qcv"{}}:[\textcolor{stringliteral}{"{}HeatInput"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01093}01093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qsol"{}}:[\textcolor{stringliteral}{"{}P-\/sun"{}},\textcolor{stringliteral}{"{}*Ag"{}},\textcolor{stringliteral}{"{}\$Ga"{}}],\ \textcolor{comment}{\#\ where\ Ag\ =\ glass\ area\ and\ Ga\ =\ solar\ irradiance\ factor,\ for\ solver!}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01094}01094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dTobj"{}}:[\textcolor{stringliteral}{"{}Qsol"{}},\textcolor{stringliteral}{"{}Qcv"{}},\textcolor{stringliteral}{"{}Qtr"{}},\textcolor{stringliteral}{"{}dt"{}},\textcolor{stringliteral}{"{}\$C"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01095}01095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Tavg"{}}:[\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}dTobj"{}}]\}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01096}01096\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01097}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a43e8bfd5caf83689e42ef179314fc19a}{01097}}\ \ \ \ \ \ \ \ \ lambdaDict\ =\ \{\textcolor{stringliteral}{"{}Qtr"{}}:\ \textcolor{keyword}{lambda}\ Tamb,\ Tavg,\ U:\ (Tamb-\/Tavg)*0.001/\ U,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01098}01098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qcv"{}}:\ \textcolor{keyword}{lambda}\ HeatInput:\ HeatInput,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01099}01099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qsol"{}}:\ \textcolor{keyword}{lambda}\ P\_sun,\ Ag,\ Ga:\ P\_sun*0.001*Ag*Ga,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01100}01100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dTobj"{}}:\ \textcolor{keyword}{lambda}\ Qsol,\ Qcv,\ Qtr,\ dt,\ C:\ (Qtr+Qcv+Qsol)*dt/C,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01101}01101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Tavg"{}}:\ \textcolor{keyword}{lambda}\ Tavg,\ dTobj:\ Tavg\ +\ dTobj\}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01102}01102\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01103}01103\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01104}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a55f420ef76f2b72e537126ce6d679fce}{01104}}\ \ \ \ \ \ \ \ \ ThermallambdaMap\ =\ \{\textcolor{stringliteral}{"{}Qtr"{}}:\ [\textcolor{stringliteral}{"{}Tamb"{}},\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}\$U"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01105}01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}HeatInput"{}}:[\textcolor{stringliteral}{"{}dT"{}},\ \textcolor{stringliteral}{"{}\$C"{}},\ \textcolor{stringliteral}{"{}dt"{}},\ \textcolor{stringliteral}{"{}Qtr"{}},\ \textcolor{stringliteral}{"{}Qsol"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01106}01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qsol"{}}:[\textcolor{stringliteral}{"{}P-\/sun"{}},\textcolor{stringliteral}{"{}*Ag"{}},\textcolor{stringliteral}{"{}\$Ga"{}}],\ \textcolor{comment}{\#\ where\ Ag\ =\ glass\ area\ and\ Ga\ =\ solar\ irradiance\ factor,\ for\ solver!}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01107}01107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dTobj"{}}:[\textcolor{stringliteral}{"{}dTobj"{}}],}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01108}01108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Tavg"{}}:[\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}dTobj"{}}]\}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01109}01109\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01110}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ac999cab977824adc7574f9904ff7143b}{01110}}\ \ \ \ \ \ \ \ \ ThermallambdaDict\ =\ \{\textcolor{stringliteral}{"{}Qtr"{}}:\ \textcolor{keyword}{lambda}\ Tamb,\ Tavg,\ U:\ (Tamb-\/Tavg)*0.001/\ U,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01111}01111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}HeatInput"{}}:\ \textcolor{keyword}{lambda}\ dT,\ C,\ dt,\ Qtr,\ Qsol:\ ((dT*C/dt)\ -\/\ Qtr\ -\/\ Qsol)*0.001,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01112}01112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Qsol"{}}:\ \textcolor{keyword}{lambda}\ P\_sun,\ Ag,\ Ga:\ P\_sun*0.001*Ag*Ga,}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01113}01113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dTobj"{}}:\ \textcolor{keyword}{lambda}\ dTobj:\ dTobj,\ \textcolor{comment}{\#\ (Qtr+HeatInput+Qsol)*dt/C\ =\ dT,}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01114}01114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Tavg"{}}:\ \textcolor{keyword}{lambda}\ Tavg,\ dTobj:\ Tavg\ +\ dTobj\}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01115}01115\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01116}01116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Energy\ HLC-\/Analysis"{}},1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01117}01117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01118}01118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Model\ -\/\ set\ of\ equations:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01119}01119\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01120}01120\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01121}01121\ \ \ \ \ \ \ \ \ plt.cla()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01122}01122\ \ \ \ \ \ \ \ \ plt.close()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01123}01123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ lambdaDict:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01124}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a4e721c2d345d18d80d240cbaf1597be5}{01124}}\ \ \ \ \ \ \ \ \ \ \ \ \ tex\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a9677202f505710d2296b91bd116a9f6e}{Lambda2Tex}}(lambdaDict[i])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01125}01125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ OS\ ==\ \textcolor{stringliteral}{"{}Windows\_NT"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01126}01126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\ \{\}"{}}.format(tex))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01127}01127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01128}01128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01129}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a05a671c66aefea124cc08b76ea6d30bb}{01129}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ test\ =\ py2tex(tex,print\_formula=\textcolor{keyword}{False},\ print\_latex=\textcolor{keyword}{False},\ output=\textcolor{stringliteral}{"{}tex"{}}).replace(\textcolor{stringliteral}{"{}\$"{}},\textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01130}01130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a06f5fab3acebaee19f6bafa3575942af}{latex\_to\_img}}(test).save(\textcolor{stringliteral}{'\{\}.png'}.format(i))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01131}01131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\ ![\{\}\ term](\{\}.png)"{}}.format(i,i))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01132}01132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ RuntimeError:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01133}01133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\ \{\}"{}}.format(tex))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01134}01134\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01135}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a1eb456e82718cddf25aeb38c54fdbaba}{01135}}\ \ \ \ \ \ \ \ \ fmf\ =\ \mbox{\hyperlink{classmufit_1_1main_1_1_multi_fitter}{MultiFitter}}(Instance,lambdaMap=lambdaMap,lambdaDict=lambdaDict,verbose=2)\ \textcolor{comment}{\#\ On\ instantiation\ we\ MUST\ pass\ instance\ NAME}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01136}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a1c676b83110d20ae09b899578afca523}{01136}}\ \ \ \ \ \ \ \ \ fmf.loadData(data,initPredictors=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01137}01137\ \ \ \ \ \ \ \ \ fmf.loadConstants(\{\textcolor{stringliteral}{"{}C"{}}:12000.0,\textcolor{stringliteral}{"{}U"{}}:regressor.coef\_[0][0],\textcolor{stringliteral}{"{}Ag"{}}:float(config[\textcolor{stringliteral}{"{}schil"{}}][\textcolor{stringliteral}{"{}glasoppervlak"{}}]),\textcolor{stringliteral}{"{}Ga"{}}:0.3\})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01138}01138\ \ \ \ \ \ \ \ \ fmf.loadConstants(\textcolor{stringliteral}{"{}best"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01139}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ab52c96bea30646abf8170f333bbd42b9}{01139}}\ \ \ \ \ \ \ \ \ df\ =\ pd.DataFrame(fmf.error,columns=[\textcolor{stringliteral}{"{}index"{}},\textcolor{stringliteral}{"{}error"{}},\textcolor{stringliteral}{"{}c0"{}},\textcolor{stringliteral}{"{}c1"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01140}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a770f288d3048ff6cbee9faa0969fd6b0}{01140}}\ \ \ \ \ \ \ \ \ fmf.dt\ =\ 1800.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01141}01141\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01142}01142\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01143}01143\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}FastSim"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01144}01144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01145}01145\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01146}01146\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}HLC\_Analysis\_Evolution\_Inspired\_Errors"{}},pd.DataFrame(fmf.BulkEvolver(\textcolor{stringliteral}{"{}Tavg"{}},\ constraints=\{\textcolor{stringliteral}{"{}U"{}}:[0.01,1.5],\textcolor{stringliteral}{"{}C"{}}:[1200.0,120000.0],\ \textcolor{stringliteral}{"{}Ga"{}}:[0.0001,1.0]\},\ N\ =\ 20,\ repeats=3,\ Iterations=10),columns=[\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}]),\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01147}01147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{stringliteral}{"{}\{\}.json"{}}.format(Instance)\ \textcolor{keywordflow}{in}\ Files:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01148}01148\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}HLC\_Analysis\_Evolution\_Inspired\_Errors"{}},pd.DataFrame(fmf.BulkEvolver(\textcolor{stringliteral}{"{}Tavg"{}},\ constraints=\{\textcolor{stringliteral}{"{}U"{}}:[0.01,1.5],\textcolor{stringliteral}{"{}C"{}}:[1200.0,120000.0],\ \textcolor{stringliteral}{"{}Ga"{}}:[0.0001,1.0]\},\ N\ =\ 40,\ repeats=10,\ Iterations=100),columns=[\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}]),\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01149}01149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01150}01150\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}HLC\_Analysis\_Evolution\_Inspired\_Errors"{}},pd.DataFrame(fmf.BulkEvolver(\textcolor{stringliteral}{"{}Tavg"{}},\ constraints=\{\textcolor{stringliteral}{"{}U"{}}:[0.01,1.5],\textcolor{stringliteral}{"{}C"{}}:[1200.0,120000.0],\ \textcolor{stringliteral}{"{}Ga"{}}:[0.0001,1.0]\},\ N\ =\ 4,\ repeats=100,\ Iterations=100),columns=[\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}]),\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01151}01151\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Simulated\_Errors\_Parameters"{}},pd.DataFrame(fmf.error,columns=[\textcolor{stringliteral}{"{}index"{}},\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}Tavg\_pr"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ag"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}]),\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01152}01152\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01153}01153\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\#\ Simulation\ with\ best\ parameters"{}},4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01154}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a84c73abbf865979be6bb5eeca1e3651b}{01154}}\ \ \ \ \ \ \ \ \ Bestparams\ =\ fmf.constants}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01155}01155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ Bestparams:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01156}01156\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}\ :\ \{\}"{}}.format(i,Bestparams[i]),1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01157}01157\ \ \ \ \ \ \ \ \ fmf.resetIndex()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01158}01158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}-\/"{}}.format(i,Bestparams[i]),4)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01159}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a43e9c9687f02ea38d98bccb3ab8a6f75}{01159}}\ \ \ \ \ \ \ \ \ bestSimulation\ =\ pd.DataFrame(fmf.Simulate(steps=fmf.dataLength,\ err=\textcolor{stringliteral}{"{}Tavg"{}})[-\/fmf.dataLength:],columns=[\textcolor{stringliteral}{"{}index"{}},\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}Tavg"{}},\textcolor{stringliteral}{"{}Tavg\_pr"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ag"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01160}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a86244c5fd1a9e478af20a7ebed03f7e4}{01160}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Simulation\ with\ best\ parameters"{}},bestSimulation,\ Instance,verbosityLimit=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01161}01161\ \ \ \ \ \ \ \ \ print(data[\textcolor{stringliteral}{"{}DateTime"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01162}01162\ \ \ \ \ \ \ \ \ bestSimulation[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data.loc[:,\ \textcolor{stringliteral}{"{}DateTime"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01163}01163\ \ \ \ \ \ \ \ \ bestSimulation\ =\ bestSimulation.set\_index(\textcolor{stringliteral}{"{}DateTime"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01164}01164\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01165}01165\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01166}01166\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}RCReversePowerCurve"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01167}01167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01168}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a8a1eb1db6dc99f82114ae4594b3593ea}{01168}}\ \ \ \ \ \ \ \ \ \ \ \ \ tp\ =\ \mbox{\hyperlink{classmufit_1_1main_1_1_multi_fitter}{MultiFitter}}(Instance,lambdaMap=ThermallambdaMap,lambdaDict=ThermallambdaDict,verbose=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01169}01169\ \ \ \ \ \ \ \ \ \ \ \ \ tp.loadData(data,initPredictors=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01170}01170\ \ \ \ \ \ \ \ \ \ \ \ \ tp.loadConstants(\textcolor{stringliteral}{"{}best"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01171}01171\ \ \ \ \ \ \ \ \ \ \ \ \ tp.dt\ =\ 1800.0}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01172}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa26bd9527c3f797157e8caf0871fd14f}{01172}}\ \ \ \ \ \ \ \ \ \ \ \ \ PredictedThermal\ =\ pd.DataFrame(tp.Simulate(steps=tp.dataLength,\ err=\textcolor{stringliteral}{"{}HeatInput"{}})[-\/tp.dataLength:],columns=[\textcolor{stringliteral}{"{}index"{}},\textcolor{stringliteral}{"{}err"{}},\textcolor{stringliteral}{"{}HeatInput"{}},\textcolor{stringliteral}{"{}HeatInput\_pr"{}},\textcolor{stringliteral}{"{}U"{}},\textcolor{stringliteral}{"{}Ag"{}},\textcolor{stringliteral}{"{}Ga"{}},\textcolor{stringliteral}{"{}C"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01173}01173\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Thermal\ prediction\ with\ best\ parameters"{}},PredictedThermal,\ Instance,\ verbosityLimit=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01174}01174\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01175}01175\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01176}01176\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}RCReversePowerCurve"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01177}01177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01178}01178\ \ \ \ \ \ \ \ \ \ \ \ \ PredictedThermal[\textcolor{stringliteral}{"{}DateTime"{}}]\ =\ data.loc[:,\ \textcolor{stringliteral}{"{}DateTime"{}}]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01179}01179\ \ \ \ \ \ \ \ \ \ \ \ \ PredictedThermal\ =\ PredictedThermal.set\_index(\textcolor{stringliteral}{"{}DateTime"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01180}01180\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01181}01181\ \ \ \ \ \ \ \ \ print(len(data),\ len(bestSimulation))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01182}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abd31afffb41ba70fdebb50032e9dfd4a}{01182}}\ \ \ \ \ \ \ \ \ data.drop(data.tail(1).index,inplace=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01183}01183\ \ \ \ \ \ \ \ \ print(len(data),\ len(bestSimulation))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01184}01184\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01185}01185\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}simulation\_Tavg\_pr"{}}]\ =\ bestSimulation[\textcolor{stringliteral}{"{}Tavg\_pr"{}}].values}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01186}01186\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}simulation\_error"{}}]\ =\ bestSimulation[\textcolor{stringliteral}{"{}err"{}}].values}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01187}01187\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}simulation\_Tavg\_pr"{}},\textcolor{stringliteral}{"{}°C"{}},\ \textcolor{stringliteral}{"{}gesimuleerd/berekend"{}},\textcolor{stringliteral}{"{}Tavg\ voorspelling\ volgens\ model"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01188}01188\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}simulation\_error"{}},\textcolor{stringliteral}{"{}°C"{}},\ \textcolor{stringliteral}{"{}gesimuleerd/berekend"{}},\textcolor{stringliteral}{"{}Error\ Tavg\ en\ Tavg\_pr\ per\ tijdstap"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01189}01189\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}Tavg"{}}],\textcolor{stringliteral}{"{}simulation\_Tavg\_pr"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01190}01190\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}Tavg"{}}],\textcolor{stringliteral}{"{}simulation\_error"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01191}01191\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}RCReversePowerCurve"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01192}01192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01193}01193\ \ \ \ \ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}simulation\_HeatInput\_pr"{}}]\ =\ PredictedThermal[\textcolor{stringliteral}{"{}HeatInput\_pr"{}}].values}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01194}01194\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}simulation\_HeatInput\_pr"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}gesimuleerd/berekend"{}},\textcolor{stringliteral}{"{}Verwarmingsvermogen\ benodigd\ volgens\ model\ om\ Tavg\ te\ behalen"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01195}01195\ \ \ \ \ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}HeatInput"{}}],\textcolor{stringliteral}{"{}simulation\_HeatInput\_pr"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01196}01196\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01197}01197\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ error\ function,\ returns\ simulation\ for\ n\ iterations\ and\ given\ parameters}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01198}01198\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#logFigure("{}HLC\_Analysis\_Evolution\_Inspired"{},pd.DataFrame(fmf.BulkError("{}Tavg"{},\ constraints=\{"{}U"{}:[0.001,1.1],"{}C"{}:[10000.0,12000.0]\},\ N\ =\ 3),columns=["{}err"{},"{}U"{},"{}C"{}]))}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01199}01199\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01200}01200\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Evolution\ +\ gradient\ descent\ parameter\ search}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01201}01201\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#logFigure("{}HLC\_Analysis\_Evolution\_Inspired"{},pd.DataFrame(fmf.Evolver("{}Tavg"{},\ N=1000),columns=["{}index"{},"{}err"{},"{}Tavg"{},"{}Tavg\_pr"{},"{}U"{},"{}C"{}]))}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01202}01202\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01203}01203\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Structured\ parameter\ search\ over\ defined\ bounds}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01204}01204\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#logFigure("{}HLC\_Analysis\_Evolution\_Inspired"{},pd.DataFrame(fmf.parameterSearchMap(err="{}Tavg"{},\ constraints=\{"{}U"{}:[0.001,1.1],"{}C"{}:[10000.0,12000.0]\}),columns=["{}index"{},"{}err"{},"{}Tavg"{},"{}Tavg\_pr"{},"{}U"{},"{}C"{}]))}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01205}01205\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01206}01206\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01207}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a911a49b7967ef10985d331841303b75f}{01207}}\ \ \ \ \ \ \ \ \ fmf.plotError(All=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01208}01208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ fmf.solveList:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01209}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acc42076253600be964e110149b458971}{01209}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(\textcolor{stringliteral}{"{}Mufit\_Error\_\{\}.html"{}}.format(i),\ \textcolor{stringliteral}{'r'},\ errors=\textcolor{stringliteral}{"{}ignore"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01210}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_adb3409b0004549c01c02012b46075b58}{01210}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mufit\_html\ =\ f.read()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01211}01211\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01212}01212\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}\ -\/\ index\ -\/\ error"{}}.format(i),1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01213}01213\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ Verbosity\ >\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01214}01214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Log\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ +\ mufit\_html}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01215}01215\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01216}01216\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01217}01217\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}COP"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01218}01218\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1)\ \textcolor{keywordflow}{and}\ gas\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01219}01219\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01220}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0a073fcd28a0f7cef2d427d109a6b448}{01220}}\ \ \ \ \ \ \ \ \ HPEColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}HeatPumpElectric"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01221}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0ebbdbd538d9e06ca4df9745d3c40699}{01221}}\ \ \ \ \ \ \ \ \ HPTColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}HeatPumpThermal"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01222}01222\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}COP"{}}]\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aeef4654bf4c070a33b2129de4c54741f}{COP}}(data[HPTColumns].sum(axis=1),\ data[HPEColumns].sum(axis=1)).fillna(0.0)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01223}01223\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(HPTColumns+HPEColumns,\textcolor{stringliteral}{"{}COP"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01224}01224\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}COP"{}},\textcolor{stringliteral}{"{}\%"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}SOM(Pcv1h,Pcv2h,Pcv1c,Pcv2c)/SOM(P1wp,P2wp)"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01225}01225\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01226}01226\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01227}01227\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01228}01228\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Coefficient\ Of\ Performance\ (COP)\ Analysis"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01229}01229\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Statistics:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01230}01230\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data[[\textcolor{stringliteral}{"{}COP"{}}]].describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01231}01231\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01232}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa3b416e2b196aeb3bb9dedbbefb086c1}{01232}}\ \ \ \ \ \ \ \ \ COPDC\ =\ data[[\textcolor{stringliteral}{"{}COP"{}}]].resample(\textcolor{stringliteral}{"{}1h"{}}).mean().interpolate().sort\_values(\textcolor{stringliteral}{"{}COP"{}},ascending=\textcolor{keyword}{False}).reset\_index(drop=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01233}01233\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01234}01234\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01235}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a62197192f0fbf4e0675eb37be1c4c175}{01235}}\ \ \ \ \ \ \ \ \ COPDC.plot(legend=\textcolor{keyword}{True},\ lw=2,\ alpha=0.5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01236}01236\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Power\_Duration\_Curve\_COP\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01237}01237\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![Power\_Duration\_Curve\_COP](Power\_Duration\_Curve\_COP\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01238}01238\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(COPDC.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01239}01239\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#logFigure("{}Interactive\_pdc\_curve"{},PDC)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01240}01240\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01241}01241\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01242}01242\ \textcolor{comment}{\#\ def\ readConfigLine(table,name):}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01243}01243\ \textcolor{comment}{\#\ \ \ \ \ line\ =\ config[table][name]}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01244}01244\ \textcolor{comment}{\#\ \ \ \ \ if\ line.split("{},"{})}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01245}01245\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01246}01246\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01247}01247\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}ElectricUserProfile"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01248}01248\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1)\ \textcolor{keywordflow}{and}\ modules[\textcolor{stringliteral}{"{}ThermalBalance"{}}]\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01249}01249\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01250}01250\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01251}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abef4d2c80d3b4a9ed9e1ee9659e707cd}{01251}}\ \ \ \ \ \ \ \ \ PPColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}PositivePower"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01252}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a1effff646202b58929cfe5f1428ba760}{01252}}\ \ \ \ \ \ \ \ \ NPColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}NegativePower"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01253}01253\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}dt"{}}],\textcolor{stringliteral}{"{}hour"{}},copy.deepcopy(CategoryWeights)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01254}01254\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}dt"{}}],\textcolor{stringliteral}{"{}day"{}},copy.deepcopy(CategoryWeights)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01255}01255\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}hour"{}},\textcolor{stringliteral}{"{}uren"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}n.v.t.\ negeer\ deze\ kolom,\ niet\ timezone\ DST\ aware"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01256}01256\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}day"{}},\textcolor{stringliteral}{"{}dagen"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}n.v.t.\ negeer\ deze\ kolom,\ niet\ timezone\ DST\ aware"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01257}01257\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01258}01258\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Premainder"{}}]\ =\ data[PPColumns].sum(axis=1)\ -\/\ data[NPColumns].sum(axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01259}01259\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(PPColumns+NPColumns,\textcolor{stringliteral}{"{}Premainder"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01260}01260\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}Q\ =\ m\ cp\ dt\ m*\ Vdhw\ *\ cp\ *\ (T2-\/T1)"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01261}01261\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01262}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a327396e283f21511ef39c5c7ebf1bb92}{01262}}\ \ \ \ \ \ \ \ \ Epiv\ =\ pd.pivot\_table(data,\ index=[\textcolor{stringliteral}{'hour'}],\ columns=[\textcolor{stringliteral}{'day'}],\ values=[\textcolor{stringliteral}{'Premainder'}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01263}01263\ \ \ \ \ \ \ \ \ Epiv\ =\ Epiv.loc[:,\ (Epiv\ !=\ 0).any(axis=0)]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01264}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a051e403214cb6872ad3fe4e50302a6ee}{01264}}\ \ \ \ \ \ \ \ \ Epiv.plot(\ color=\textcolor{stringliteral}{"{}g"{}},\ title=\textcolor{stringliteral}{"{}Remainder\ Energy\ usage\ All\ days"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01265}01265\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01266}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa272f8ba6bf89aa2d1d0aa59fc707d1f}{01266}}\ \ \ \ \ \ \ \ \ E\_Baseline\ =\ Epiv.mean(axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01267}01267\ \ \ \ \ \ \ \ \ E\_Baseline.plot(\ color=\textcolor{stringliteral}{"{}r"{}},\ lw=3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01268}01268\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Remainder\_Energy\_each\_day\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01269}01269\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01270}01270\ \ \ \ \ \ \ \ \ E\_Baseline.plot(\ color=\textcolor{stringliteral}{"{}r"{}},\ lw=3,\ title=\textcolor{stringliteral}{"{}Average\ electricity\ profile"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01271}01271\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Remainder\_Electricity\_Profile\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01272}01272\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01273}01273\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01274}01274\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ User\ Behavior\ Analysis"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01275}01275\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01276}01276\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01277}01277\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Electric\ baseline\ Analysis"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01278}01278\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}The\ electricity\ usage\ of\ the\ user\ is\ isolated.\(\backslash\)n"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01279}01279\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\#\ Positive\ Power\ columns"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01280}01280\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(PPColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01281}01281\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\#\ Negative\ Power\ columns"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01282}01282\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(NPColumns)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01283}01283\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\#\ Plots"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01284}01284\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![All\ days\ recorded](Remainder\_Energy\_each\_day\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01285}01285\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![Remainder\ Average\ Electricity\ Profile](Remainder\_Electricity\_Profile\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01286}01286\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01287}01287\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}DHWUserProfile"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01288}01288\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01289}01289\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01290}01290\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01291}01291\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Domestic\ Hot\ Water"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01292}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a236dc76bf8ee429c9610894808d178f0}{01292}}\ \ \ \ \ \ \ \ \ DHWColumns\ =\ config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}DHWColumns"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01293}01293\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ data["{}Pdhwcal"{}]\ =\ data.apply(PdTtoV,\ axis=1)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01294}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0745af922737ddf9b3fe2496b859809d}{01294}}\ \ \ \ \ \ \ \ \ year\ =\ data.index[0].year}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01295}01295\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Detected\ year:\ \{\}"{}}.format(year))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01296}01296\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Date\ range\ summer:"{}}\ +\ \textcolor{stringliteral}{"{}\{\}-\/05-\/01"{}}.format(year)\ \ +\ \textcolor{stringliteral}{"{}\ \_\ \{\}-\/07-\/31"{}}.format(year))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01297}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_af942a59766e8d957ff5c9b853d052b31}{01297}}\ \ \ \ \ \ \ \ \ DHSummerSlice\ =\ data[ThermalColumns].loc[\textcolor{stringliteral}{"{}\{\}-\/05-\/01"{}}.format(year)\ :\ \textcolor{stringliteral}{"{}\{\}-\/07-\/31"{}}.format(year)]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01298}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a00d6d9c4902af020959292d110095aa9}{01298}}\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Vdhwcal"{}}]\ =\ data.apply(PdTtoV,\ T1=DHWColumns[0],\ T2=DHWColumns[1],\ Pdhw=DHWColumns[2],\ axis=1)\ \ \textcolor{comment}{\#\ good\ example\ of\ handling\ *args,\ we\ see\ mixed\ Pdhw\ and\ pd.DF.apply\ arguments}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01299}01299\ \ \ \ \ \ \ \ \ data[[\textcolor{stringliteral}{"{}Vdhwcal"{}}]].plot()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01300}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abf9ffe942818d5c1b1e8ea527f3c7d86}{01300}}\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}Vdhwtheory"{}}]\ =\ data[[\textcolor{stringliteral}{"{}Vdhwcal"{}}]].apply(PandasDHWWrapper,\ Inhabitants=Inhabitants,\ axis=1)\ \ \textcolor{comment}{\#\ Needs\ a\ series\ to\ work.\ Does\ not\ matter\ which\ one.}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01301}01301\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}(DHWColumns,\textcolor{stringliteral}{"{}Vdhwcal"{}},CategoryWeights))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01302}01302\ \ \ \ \ \ \ \ \ CategoryWeights.append(\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a81c5da09d6c36cb869d156a29cf4fdad}{DerivedCategory}}([\textcolor{stringliteral}{"{}Vdhwcal"{}}],\textcolor{stringliteral}{"{}Vdhwtheory"{}},copy.deepcopy(CategoryWeights)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01303}01303\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Vdhwcal"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}Q\ =\ m\ cp\ dt\ m*\ Vdhw\ *\ cp\ *\ (T2-\/T1)"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01304}01304\ \ \ \ \ \ \ \ \ CategoryUnits.append([\textcolor{stringliteral}{"{}Pdhw"{}},\textcolor{stringliteral}{"{}kW"{}},\ \textcolor{stringliteral}{"{}berekend"{}},\textcolor{stringliteral}{"{}Q\ =\ m\ cp\ dt\ m*\ Vdhw\ *\ cp\ *\ (T2-\/T1)"{}}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01305}01305\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01306}01306\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01307}01307\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}DHWDataDriven"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01308}01308\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01309}01309\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01310}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a01e13f4fbebdaf9845a886b047422fb0}{01310}}\ \ \ \ \ \ \ \ \ \ \ \ \ SummerDetection\ =\ pd.pivot\_table(data,\ index=[\textcolor{stringliteral}{"{}hour"{}}],\ columns=[\textcolor{stringliteral}{"{}day"{}}],\ values=\ ThermalColumns)\ \textcolor{comment}{\#\ DHSummerSlice[]}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01311}01311\ \ \ \ \ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01312}01312\ \ \ \ \ \ \ \ \ \ \ \ \ SummerDetection.plot(\ color=\textcolor{stringliteral}{"{}g"{}},\ title=\textcolor{stringliteral}{"{}warm\ water\ usage\ >\ 0\ taken\ from\ summer\ period"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01313}01313\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\#\ Summer\ detection\ DHW"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01314}01314\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(SummerDetection.to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01315}01315\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(SummerDetection.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01316}01316\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01317}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a61d9d7051eccd3d3dbfb87e8b31c5b5a}{01317}}\ \ \ \ \ \ \ \ \ piv\ =\ pd.pivot\_table(data,\ index=[\textcolor{stringliteral}{'hour'}],\ columns=[\textcolor{stringliteral}{'day'}],\ values=[\textcolor{stringliteral}{'Vdhwcal'}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01318}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a2d4faf064e2181efa878dad421c71c56}{01318}}\ \ \ \ \ \ \ \ \ piv2\ =\ piv.loc[:,\ (piv\ !=\ 0).any(axis=0)]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01319}01319\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#plt.clf()}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01320}01320\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01321}01321\ \ \ \ \ \ \ \ \ piv.plot(color=\textcolor{stringliteral}{"{}g"{}},\ title=\textcolor{stringliteral}{"{}All\ days\ with\ warm\ water\ usage\ >\ 0\ and\ average\ of\ those"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01322}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ae570b730459a4c0086679b0c83b42b0e}{01322}}\ \ \ \ \ \ \ \ \ DHW\_Baseline\ =\ piv.mean(axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01323}01323\ \ \ \ \ \ \ \ \ DHW\_Baseline.plot(\ color=\textcolor{stringliteral}{"{}r"{}},\ lw=3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01324}01324\ \ \ \ \ \ \ \ \ plt.plot(dhw[Inhabitants-\/1][0],\ dhw[Inhabitants-\/1][1],\ color=\textcolor{stringliteral}{"{}b"{}},\ lw=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01325}01325\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Remainder\_DHW\_each\_day\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01326}01326\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![All\ DHW\ days\ recorded](Remainder\_DHW\_each\_day\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01327}01327\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01328}01328\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01329}01329\ \ \ \ \ \ \ \ \ DHW\_Baseline.plot(\ color=\textcolor{stringliteral}{"{}r"{}},\ lw=3)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01330}01330\ \ \ \ \ \ \ \ \ plt.plot(dhw[Inhabitants-\/1][0],\ dhw[Inhabitants-\/1][1],\ color=\textcolor{stringliteral}{"{}b"{}},\ lw=2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01331}01331\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}User\_profile\_theory\_DHW\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01332}01332\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01333}01333\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Baseline:\ \{:2.4f\}\ m3,\ theory:\ \{:2.4f\}\ m3,\ deviation:\ \{:2.2f\}\%,\ Difference:\ \{:2.4f\}\ m3"{}}.format(DHW\_Baseline.sum(),sum(dhw[Inhabitants-\/1][1]),(DHW\_Baseline.sum()/sum(dhw[Inhabitants-\/1][1]))*100,\ DHW\_Baseline.sum()-\/sum(dhw[Inhabitants-\/1][1])))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01334}01334\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(DHW\_Baseline.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01335}01335\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![User\ profile\ compared\ to\ empirical\ model](User\_profile\_theory\_DHW\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01336}01336\ \ \ \ \ \ \ \ \ Ps.append(\textcolor{stringliteral}{"{}Premainder"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01337}01337\ \ \ \ \ \ \ \ \ Ps.append(\textcolor{stringliteral}{"{}Pdhw"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01338}01338\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01339}01339\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01340}01340\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}BalanceDurationCurve"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01341}01341\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1)\ \textcolor{keywordflow}{and}\ modules[\textcolor{stringliteral}{"{}ThermalBalance"{}}]\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01342}01342\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01343}01343\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ generates\ a\ power\ duration\ curve}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01344}01344\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}plotly"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01345}01345\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01346}01346\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Duration\ Curves"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01347}01347\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Power"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01348}01348\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\ *\ \{\}"{}}.format(Ps))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01349}01349\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#data[Ps].plot()}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01350}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ac12e018451e17653d55e301323057fd7}{01350}}\ \ \ \ \ \ \ \ \ PDC\ =\ data[\textcolor{stringliteral}{"{}Premainder"{}}].resample(\textcolor{stringliteral}{"{}1h"{}}).mean().interpolate().sort\_values(\textcolor{stringliteral}{"{}Premainder"{}},ascending=\textcolor{keyword}{False}).reset\_index(drop=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01351}01351\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01352}01352\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01353}01353\ \ \ \ \ \ \ \ \ PDC.plot(legend=\textcolor{keyword}{True},\ lw=2,\ alpha=0.5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01354}01354\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Power\_Duration\_Curve\_sorted\_on\_balance\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01355}01355\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![Power\_Duration\_Curve\_sorted\_on\_balance](Power\_Duration\_Curve\_sorted\_on\_balance\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01356}01356\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(PDC.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01357}01357\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#logFigure("{}Interactive\_pdc\_curve"{},PDC)}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01358}01358\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01359}01359\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01360}01360\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}TemperatureDurationCurve"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01361}01361\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01362}01362\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01363}01363\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01364}01364\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Temperature"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01365}01365\ \ \ \ \ \ \ \ \ Ts.append(\textcolor{stringliteral}{"{}Tavg"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01366}01366\ \ \ \ \ \ \ \ \ Ts.append(\textcolor{stringliteral}{"{}dT"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01367}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ab4383970452a1434d45847c8c2560b15}{01367}}\ \ \ \ \ \ \ \ \ TDC\ =\ data[Ts].resample(\textcolor{stringliteral}{"{}1h"{}}).mean().interpolate().sort\_values(\textcolor{stringliteral}{"{}dT"{}},ascending=\textcolor{keyword}{False}).reset\_index(drop=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01368}01368\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}matplotlib"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01369}01369\ \ \ \ \ \ \ \ \ plt.clf()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01370}01370\ \ \ \ \ \ \ \ \ TDC.plot(legend=\textcolor{keyword}{True},\ lw=2,\ alpha=0.5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01371}01371\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}Temperature\_Duration\_Curve\_sorted\_on\_balance\_\{\}.png"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01372}01372\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n\ ![Temperature\_Duration\_Curve\_sorted\_on\_balance](Temperature\_Duration\_Curve\_sorted\_on\_balance\_\{\}.png)"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01373}01373\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(TDC.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01374}01374\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01375}01375\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01376}01376\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}GenericEvents"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01377}01377\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01378}01378\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01379}01379\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Event\ detection"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01380}01380\ \ \ \ \ \ \ \ \ EventStudy\ =\ \mbox{\hyperlink{class_trackn_trace_1_1preprocessor_1_1pre_processor_1_1_eventor}{Eventor}}(data.loc[:,\ data.columns\ !=\ \textcolor{stringliteral}{'DateTime'}])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01381}01381\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Fetch\ all\ config}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01382}01382\ \ \ \ \ \ \ \ \ GenericConfig\ =\ config[\textcolor{stringliteral}{"{}eventdetection"{}}][\textcolor{stringliteral}{"{}GenericEvents"{}}].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01383}01383\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ GenericConfig[3]\ ==\ \textcolor{stringliteral}{"{}None"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01384}01384\ \ \ \ \ \ \ \ \ \ \ \ \ GenericConfig[3]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01385}01385\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01386}01386\ \ \ \ \ \ \ \ \ \ \ \ \ GenericConfig[3]\ =\ GenericConfig[3].split(\textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01387}01387\ \ \ \ \ \ \ \ \ EventStudy.GenericEvents(shortWindow\ =\ int(GenericConfig[0]),\ longWindow\ =\ int(GenericConfig[1]),\ sd\ =float(GenericConfig[2]),\ columns=GenericConfig[3])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01388}01388\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Generic\ event\ detection:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01389}01389\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Short\ window:\ \{\}\ h"{}}.format(GenericConfig[0]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01390}01390\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Long\ window:\ \{\}\ h"{}}.format(GenericConfig[1]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01391}01391\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Standard\ deviation\ exceedance:\ \{\}"{}}.format(GenericConfig[2]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01392}01392\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Columns:\ \{\}\ (if\ None,\ all\ data\ will\ be\ scanned\ for\ events)"{}}.format(GenericConfig[3]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01393}01393\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Event\ columns:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01394}01394\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\{\}"{}}.format(EventStudy.eventcolumns))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01395}01395\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01396}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aa111147e659696a8db3a164e192bb3be}{01396}}\ \ \ \ \ \ \ \ \ NormalizedEvents\ =\ EventStudy.EventIndicer(threshold=float(config[\textcolor{stringliteral}{"{}eventdetection"{}}][\textcolor{stringliteral}{"{}NormalizedEvents"{}}]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01397}01397\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\#\#\ Normalized\ event\ detection:"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01398}01398\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Standard\ deviation\ exceedance:\ \{\}"{}}.format(config[\textcolor{stringliteral}{"{}eventdetection"{}}][\textcolor{stringliteral}{"{}NormalizedEvents"{}}]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01399}01399\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Detected\ events:\ \{\}"{}}.format(len(NormalizedEvents)))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01400}01400\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ NormalizedEvents:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01401}01401\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(i)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01402}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a7e98b8a17c0aad30ba64d47b74e2a6c1}{01402}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acd235ea713df82292a00e05776adccfe}{VisualizeEvent}}(data,\ i,\ Instance,\ columns\ =\ [\textcolor{stringliteral}{"{}Tavg"{}},\ \textcolor{stringliteral}{"{}Tamb"{}},\ \textcolor{stringliteral}{"{}dT"{}},\ \textcolor{stringliteral}{"{}Ppv"{}}],\ Size=[10,8])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01403}01403\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\ ![event\_\{\}](event\_\{\}.png)"{}}.format(i[\textcolor{stringliteral}{"{}Event"{}}],\ i[\textcolor{stringliteral}{"{}Event"{}}]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01404}01404\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01405}01405\ \ \ \ \ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}OtherEventDetectors"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01406}01406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01407}01407\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01408}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ae87043160b3295a0695ff6056f0184a5}{01408}}\ \ \ \ \ \ \ \ \ \ \ \ \ cEventCfg\ =\ config[\textcolor{stringliteral}{"{}eventdetection"{}}][\textcolor{stringliteral}{"{}OtherEvents"{}}].split(\textcolor{stringliteral}{"{},"{}})\ \ \textcolor{comment}{\#\ CustomEventConfig}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01409}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a0376cb273cd085212cf7ba18d4341725}{01409}}\ \ \ \ \ \ \ \ \ \ \ \ \ Events\ =\ []}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01410}01410\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ cEventCfg:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01411}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_af4634bed996b96d40d32549eb7c8f087}{01411}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ EventConfig\ =\ config[\textcolor{stringliteral}{"{}eventdetection"{}}][i].split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01412}01412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01413}01413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Custom\ \{\}\ trend\ \{\}"{}}.format(i,\ EventConfig[1]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01414}01414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Standard\ deviation\ exceedance:\ \{\}"{}}.format(EventConfig[0]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01415}01415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Events.append(EventStudy.EventIndicer(threshold=float(EventConfig[0]),\ trend=EventConfig[1]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01416}01416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ Detected\ events:\ \{\}"{}}.format(len(Events[-\/1])))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01417}01417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ Events[-\/1]:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01418}01418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}*\ \{\}"{}}.format(j))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01419}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_abf2bc2545a4a5f5683d9ef3ed0d977e0}{01419}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_acd235ea713df82292a00e05776adccfe}{VisualizeEvent}}(data,\ j,\ Instance,\ columns=[\textcolor{stringliteral}{"{}Tavg"{}},\ \textcolor{stringliteral}{"{}Tamb"{}},\ \textcolor{stringliteral}{"{}dT"{}},\ \textcolor{stringliteral}{"{}Ppv"{}}],\ Size=[10,8])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01420}01420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\(\backslash\)n\ ![event\_\{\}](event\_\{\}.png)"{}}.format(j[\textcolor{stringliteral}{"{}Event"{}}],\ j[\textcolor{stringliteral}{"{}Event"{}}]))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01421}01421\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01422}01422\ \ \ \ \ \ \ \ \ pd.options.plotting.backend\ =\ \textcolor{stringliteral}{"{}plotly"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01423}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a34ec49257378926386b6e65e68210a05}{01423}}\ \ \ \ \ \ \ \ \ figname\ =\ \textcolor{stringliteral}{'\{\}\_data\_processed'}.format(config[\textcolor{stringliteral}{"{}preprocessing"{}}][\textcolor{stringliteral}{"{}Filename"{}}].split(\textcolor{stringliteral}{"{}."{}})[0])}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01424}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aad68c7d49ea9b97b2b72b394a9ed105e}{01424}}\ \ \ \ \ \ \ \ \ EventData\ =\ EventStudy.data[EventStudy.eventcolumns]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01425}01425\ \ \ \ \ \ \ \ \ EventData.to\_csv(\textcolor{stringliteral}{"{}\{\}\_Events\_Export.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01426}01426\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01427}01427\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\#\ Plotly\ Interactive\ Events"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01428}01428\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(EventData.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01429}01429\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Event\_Detections"{}},\ EventData,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01430}01430\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01431}01431\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Plotly\ Interactive\ All\ processed\ data"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01432}01432\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(data.describe().to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01433}01433\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(figname,\ data,\ Instance)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01434}01434\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01435}01435\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}ColumnCategorization"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01436}01436\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01437}01437\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01438}01438\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01439}01439\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\#\ Final\ Sub-\/categorization"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01440}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_af20b96457082b747b09590bd6bc97fed}{01440}}\ \ \ \ \ \ \ \ \ Finalcategories\ =\ pd.DataFrame(CategoryWeights[1:],columns=CategoryWeights[0],\ index=[i[0]\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ CategoryWeights[1:]]).drop(\textcolor{stringliteral}{"{}Combined\_Categories"{}},axis=1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01441}01441\ \ \ \ \ \ \ \ \ Finalcategories.to\_csv(\textcolor{stringliteral}{"{}\{\}\_categories\_Export.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01442}01442\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(Finalcategories.to\_markdown())}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01443}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aaf25ee7e2306d78c74ec7bc48f092e81}{01443}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a841dc1d81f5c89ecaa3888fc3f6b585b}{logFigure}}(\textcolor{stringliteral}{"{}Final\_Categories"{}},\ Finalcategories,\ Instance,\ kind=\textcolor{stringliteral}{"{}bar"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01444}01444\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01445}01445\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01446}01446\ \ \ \ \ MODULE\ =\ \textcolor{stringliteral}{"{}DataExport"{}}}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01447}01447\ \ \ \ \ \textcolor{keywordflow}{if}\ modules[MODULE]\ ==\ str(1):}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01448}01448\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}Executing\ module\ \{\}"{}}.format(MODULE),5)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01449}01449\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(\textcolor{stringliteral}{"{}\_\_"{}}*80,\ 2)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01450}01450\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Exporting\ data\ as\ data\_export\_\{\}.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01451}01451\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01452}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a9a4a149c4f77bf47a0c4fac2691465f6}{01452}}\ \ \ \ \ \ \ \ \ \ \ \ \ data.index\ =\ data.index.tz\_localize(\textcolor{stringliteral}{"{}Europe/Amsterdam"{}},nonexistent=\textcolor{stringliteral}{"{}shift\_forward"{}},\ ambiguous=\textcolor{stringliteral}{"{}infer"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01453}01453\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ pytz.exceptions.AmbiguousTimeError:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01454}01454\ \ \ \ \ \ \ \ \ \ \ \ \ data.index\ =\ data.index.tz\_localize(\textcolor{stringliteral}{"{}Europe/Amsterdam"{}},nonexistent=\textcolor{stringliteral}{"{}shift\_forward"{}},\ ambiguous=\textcolor{stringliteral}{"{}NaT"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01455}01455\ \ \ \ \ \ \ \ \ data.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01456}01456\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01457}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a3a9976e180ef1cca59d25c5aaa56cb4b}{01457}}\ \ \ \ \ \ \ \ \ dataHourly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(data,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01458}01458\ \ \ \ \ \ \ \ \ dataHourly\ =\ dataHourly.resample(\textcolor{stringliteral}{"{}1h"{}}).mean()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01459}01459\ \ \ \ \ \ \ \ \ dataHourly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataHourly,timeDivisionArray,\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01460}01460\ \ \ \ \ \ \ \ \ dataHourly[\textcolor{stringliteral}{'DateTime'}]\ =\ dataHourly[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01461}01461\ \ \ \ \ \ \ \ \ dataHourly.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_hourly.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01462}01462\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01463}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a687925eaa47d1e1c7a59a1d9d0516426}{01463}}\ \ \ \ \ \ \ \ \ dataDaily\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(data,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01464}01464\ \ \ \ \ \ \ \ \ dataDaily\ =\ dataDaily.resample(\textcolor{stringliteral}{"{}1D"{}}).mean()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01465}01465\ \ \ \ \ \ \ \ \ dataDaily\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataDaily,timeDivisionArray,\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01466}01466\ \ \ \ \ \ \ \ \ dataDaily[\textcolor{stringliteral}{'DateTime'}]\ =\ dataDaily[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01467}01467\ \ \ \ \ \ \ \ \ dataDaily.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_daily.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01468}01468\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01469}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ad6b45706316030e1967edc814132bd17}{01469}}\ \ \ \ \ \ \ \ \ dataWeekly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(data,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01470}01470\ \ \ \ \ \ \ \ \ dataWeekly\ =\ dataWeekly.resample(\textcolor{stringliteral}{"{}1W"{}}).mean()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01471}01471\ \ \ \ \ \ \ \ \ dataWeekly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataWeekly,timeDivisionArray,\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01472}01472\ \ \ \ \ \ \ \ \ dataWeekly[\textcolor{stringliteral}{'DateTime'}]\ =\ dataWeekly[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01473}01473\ \ \ \ \ \ \ \ \ dataWeekly.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_weekly.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01474}01474\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01475}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a880b3302692cf7ea4256cd451b6493a9}{01475}}\ \ \ \ \ \ \ \ \ dataMonthly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(data,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01476}01476\ \ \ \ \ \ \ \ \ dataMonthly\ =\ dataMonthly.resample(\textcolor{stringliteral}{"{}M"{}}).mean()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01477}01477\ \ \ \ \ \ \ \ \ dataMonthly\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataMonthly,timeDivisionArray,\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01478}01478\ \ \ \ \ \ \ \ \ dataMonthly[\textcolor{stringliteral}{'DateTime'}]\ =\ dataMonthly[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01479}01479\ \ \ \ \ \ \ \ \ dataMonthly.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_monthly.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01480}01480\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01481}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a869cd2532b518cb77a727068236b6679}{01481}}\ \ \ \ \ \ \ \ \ dataMorning\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataHourly,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01482}01482\ \ \ \ \ \ \ \ \ dataMorning\ =\ dataMorning.between\_time(\textcolor{stringliteral}{"{}8:00"{}},\ \textcolor{stringliteral}{"{}13:00"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01483}01483\ \ \ \ \ \ \ \ \ dataMorning[\textcolor{stringliteral}{'DateTime'}]\ =\ dataMorning[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01484}01484\ \ \ \ \ \ \ \ \ dataMorning.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_morning.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01485}01485\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01486}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_af8f5b173a80e7441bc3e299ff23e83d6}{01486}}\ \ \ \ \ \ \ \ \ dataAfternoon\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataHourly,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01487}01487\ \ \ \ \ \ \ \ \ dataAfternoon\ =\ dataAfternoon.between\_time(\textcolor{stringliteral}{"{}13:00"{}},\ \textcolor{stringliteral}{"{}18:00"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01488}01488\ \ \ \ \ \ \ \ \ dataAfternoon[\textcolor{stringliteral}{'DateTime'}]\ =\ dataAfternoon[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01489}01489\ \ \ \ \ \ \ \ \ dataAfternoon.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_afternoon.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01490}01490\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01491}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_ab8870495466dd209a562b3be2b8904b5}{01491}}\ \ \ \ \ \ \ \ \ dataEvening\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataHourly,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01492}01492\ \ \ \ \ \ \ \ \ dataEvening\ =\ dataEvening.between\_time(\textcolor{stringliteral}{"{}18:00"{}},\ \textcolor{stringliteral}{"{}23:00"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01493}01493\ \ \ \ \ \ \ \ \ dataEvening[\textcolor{stringliteral}{'DateTime'}]\ =\ dataEvening[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01494}01494\ \ \ \ \ \ \ \ \ dataEvening.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_evening.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01495}01495\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01496}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a3d76576af3eed0eebbb65f20eee5b182}{01496}}\ \ \ \ \ \ \ \ \ dataNight\ =\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a726032e66711e758369c6651db720e84}{TimeDivision}}(dataHourly,timeDivisionArray)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01497}01497\ \ \ \ \ \ \ \ \ dataNight\ =\ dataNight.between\_time(\textcolor{stringliteral}{"{}23:00"{}},\ \textcolor{stringliteral}{"{}8:00"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01498}01498\ \ \ \ \ \ \ \ \ dataNight[\textcolor{stringliteral}{'DateTime'}]\ =\ dataNight[\textcolor{stringliteral}{'DateTime'}].astype(str).str[:-\/6]}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01499}01499\ \ \ \ \ \ \ \ \ dataNight.to\_csv(\textcolor{stringliteral}{"{}data\_export\_\{\}\_night.csv"{}}.format(Instance))}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01500}01500\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01501}01501\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_aab7f97d5f5ef5ec9412b17fd261bf4eb}{LogReport}}(pd.DataFrame(CategoryUnits).to\_markdown(),1)}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01502}01502\ \ \ \ \ Log\ =\ Headers\ +\ \textcolor{stringliteral}{"{}\_\_"{}}*100\ +\ Log}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01503}01503\ \ \ \ \ \textcolor{keywordflow}{return}\ data,\ Log,\ Instance}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01504}01504\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01505}\mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a51af30a60f9f02777c6396b8247e356f}{01505}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacemufit_1_1main_a51af30a60f9f02777c6396b8247e356f}{main}}():}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01506}01506\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a100f97803b72565daedee80e34bbb7f0}{ProcessData}}()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01507}01507\ }
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01508}01508\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01509}01509\ \ \ \ \ print(\textcolor{stringliteral}{"{}preProcessor\ is\ being\ run\ directly"{}})}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01510}01510\ \ \ \ \ \mbox{\hyperlink{namespace_trackn_trace_1_1preprocessor_1_1pre_processor_a100f97803b72565daedee80e34bbb7f0}{ProcessData}}()}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01511}01511\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{pre_processor_8py_source_l01512}01512\ \ \ \ \ print(\textcolor{stringliteral}{"{}preProcessor\ is\ being\ imported"{}})}

\end{DoxyCode}
